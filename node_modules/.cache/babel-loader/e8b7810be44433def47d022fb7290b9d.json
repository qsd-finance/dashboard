{"ast":null,"code":"import './slicedToArray-4e274c67.js';\nimport './unsupportedIterableToArray-137e449b.js';\nimport React from 'react';\nimport './_commonjsHelpers-97e6d7b1.js';\nimport { P as PropTypes } from './index-097535f1.js';\nimport { _ as _defineProperty } from './defineProperty-a0480c32.js';\nimport _styled from 'styled-components';\nimport { _ as _inherits, a as _createClass, b as _classCallCheck, e as _assertThisInitialized, c as _getPrototypeOf, d as _possibleConstructorReturn } from './getPrototypeOf-b96da1e1.js';\nimport './miscellaneous.js';\nimport './environment.js';\nimport './font.js';\nimport './constants.js';\nimport './breakpoints.js';\nimport { springs } from './springs.js';\nimport './text-styles.js';\nimport { _ as _extends } from './extends-db4f0c26.js';\nimport './objectWithoutPropertiesLoose-9606ad13.js';\nimport 'react-dom';\nimport { T as Transition, e as extendedAnimated } from './web-a351a0a1.js';\nimport { _ as _taggedTemplateLiteral } from './taggedTemplateLiteral-37fd5203.js';\nimport LeftIcon from './LeftIcon.js';\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  height: 63px;\\n  padding: \", \";\\n  cursor: pointer;\\n  svg {\\n    color: hsl(179, 76%, 48%);\\n  }\\n  :active svg {\\n    color: hsl(179, 76%, 63%);\\n  }\\n  & + \", \" {\\n    padding-left: 0;\\n  }\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  height: 100%;\\n  align-items: center;\\n  padding-left: 30px;\\n  white-space: nowrap;\\n  font-size: 22px;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  bottom: 0;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  position: relative;\\n  height: 100%;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar NavigationBar = /*#__PURE__*/function (_React$Component) {\n  _inherits(NavigationBar, _React$Component);\n\n  var _super = _createSuper(NavigationBar);\n\n  function NavigationBar() {\n    var _this;\n\n    _classCallCheck(this, NavigationBar);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      cachedItems: null,\n      direction: -1\n    });\n\n    return _this;\n  }\n\n  _createClass(NavigationBar, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          onBack = _this$props.onBack,\n          items = _this$props.items,\n          compact = _this$props.compact;\n      var displayedItems = items.map(function (node, index) {\n        return {\n          node: node,\n          index: index\n        };\n      }).slice(-1);\n      return /*#__PURE__*/React.createElement(Container, null, /*#__PURE__*/React.createElement(Transition, {\n        items: displayedItems,\n        keys: displayedItems.map( // Use a different key than 0 when there is only one item, so that\n        // the “leave” transition of the first item can be executed when a\n        // second item is added.\n        function (item) {\n          return items.length === 1 ? -1 : item.index;\n        }),\n        config: springs.smooth,\n        initial: null,\n        from: {\n          opacity: 0,\n          position: this.state.direction * -1\n        },\n        enter: {\n          opacity: 1,\n          position: 0\n        },\n        leave: {\n          opacity: 0,\n          position: this.state.direction\n        },\n        native: true\n      }, function (item) {\n        return function (styles) {\n          return /*#__PURE__*/React.createElement(Item, _extends({\n            label: item.node,\n            onBack: onBack,\n            displayBack: item.index > 0,\n            compact: compact\n          }, styles));\n        };\n      }));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      var updatedState = {\n        cachedItems: props.items\n      };\n\n      if (!state.cachedItems) {\n        return updatedState;\n      }\n\n      return _objectSpread({}, updatedState, {\n        direction: state.cachedItems.length > props.items.length ? 1 : -1\n      });\n    }\n  }]);\n\n  return NavigationBar;\n}(React.Component);\n\n_defineProperty(NavigationBar, \"propTypes\", {\n  onBack: PropTypes.func,\n  items: PropTypes.arrayOf(PropTypes.node),\n  compact: PropTypes.bool\n});\n\n_defineProperty(NavigationBar, \"defaultProps\", {\n  onBack: function onBack() {},\n  items: [],\n  compact: false\n});\n\nvar Item = function Item(_ref) {\n  var opacity = _ref.opacity,\n      position = _ref.position,\n      displayBack = _ref.displayBack,\n      onBack = _ref.onBack,\n      label = _ref.label,\n      compact = _ref.compact;\n  return /*#__PURE__*/React.createElement(extendedAnimated.span, {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      opacity: opacity,\n      transform: position.interpolate(function (p) {\n        return \"translate(\".concat(p * 20, \"px, 0)\");\n      })\n    }\n  }, /*#__PURE__*/React.createElement(Title, null, displayBack && /*#__PURE__*/React.createElement(BackButton, {\n    onClick: onBack,\n    compact: compact\n  }, /*#__PURE__*/React.createElement(LeftIcon, null)), /*#__PURE__*/React.createElement(Label, null, label)));\n};\n\nItem.propTypes = {\n  compact: PropTypes.bool,\n  displayBack: PropTypes.bool,\n  label: PropTypes.node,\n  onBack: PropTypes.func,\n  opacity: PropTypes.object,\n  position: PropTypes.object\n};\n\nvar Container = _styled.span(_templateObject());\n\nvar Title = _styled.span(_templateObject2());\n\nvar Label = _styled.span(_templateObject3());\n\nvar BackButton = _styled.span(_templateObject4(), function (p) {\n  return p.compact ? '0 16px' : '0 20px 0 30px';\n}, Label);\n\nexport default NavigationBar;","map":{"version":3,"sources":["../../src/components/NavigationBar/NavigationBar.js"],"names":["NavigationBar","React","Component","onBack","PropTypes","items","compact","bool","cachedItems","direction","props","state","updatedState","displayedItems","node","index","item","springs","opacity","position","Item","displayBack","label","animated","display","alignItems","transform","p","object","Container","styled","Title","Label","BackButton"],"mappings":"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","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport { Transition, animated } from 'react-spring'\nimport { springs } from '../../style'\nimport LeftIcon from './LeftIcon'\n\nclass NavigationBar extends React.Component {\n  static propTypes = {\n    onBack: PropTypes.func,\n    items: PropTypes.arrayOf(PropTypes.node),\n    compact: PropTypes.bool,\n  }\n  static defaultProps = {\n    onBack: () => {},\n    items: [],\n    compact: false,\n  }\n  state = {\n    cachedItems: null,\n    direction: -1,\n  }\n  static getDerivedStateFromProps(props, state) {\n    const updatedState = { cachedItems: props.items }\n    if (!state.cachedItems) {\n      return updatedState\n    }\n    return {\n      ...updatedState,\n      direction: state.cachedItems.length > props.items.length ? 1 : -1,\n    }\n  }\n  render() {\n    const { onBack, items, compact } = this.props\n    const displayedItems = items\n      .map((node, index) => ({ node, index }))\n      .slice(-1)\n    return (\n      <Container>\n        <Transition\n          items={displayedItems}\n          keys={displayedItems.map(\n            // Use a different key than 0 when there is only one item, so that\n            // the “leave” transition of the first item can be executed when a\n            // second item is added.\n            item => (items.length === 1 ? -1 : item.index)\n          )}\n          config={springs.smooth}\n          initial={null}\n          from={{ opacity: 0, position: this.state.direction * -1 }}\n          enter={{ opacity: 1, position: 0 }}\n          leave={{ opacity: 0, position: this.state.direction }}\n          native\n        >\n          {item => styles => (\n            <Item\n              label={item.node}\n              onBack={onBack}\n              displayBack={item.index > 0}\n              compact={compact}\n              {...styles}\n            />\n          )}\n        </Transition>\n      </Container>\n    )\n  }\n}\n\nconst Item = ({ opacity, position, displayBack, onBack, label, compact }) => (\n  <animated.span\n    style={{\n      display: 'flex',\n      alignItems: 'center',\n      opacity,\n      transform: position.interpolate(p => `translate(${p * 20}px, 0)`),\n    }}\n  >\n    <Title>\n      {displayBack && (\n        <BackButton onClick={onBack} compact={compact}>\n          <LeftIcon />\n        </BackButton>\n      )}\n      <Label>{label}</Label>\n    </Title>\n  </animated.span>\n)\n\nItem.propTypes = {\n  compact: PropTypes.bool,\n  displayBack: PropTypes.bool,\n  label: PropTypes.node,\n  onBack: PropTypes.func,\n  opacity: PropTypes.object,\n  position: PropTypes.object,\n}\n\nconst Container = styled.span`\n  display: flex;\n  position: relative;\n  height: 100%;\n`\n\nconst Title = styled.span`\n  display: flex;\n  align-items: center;\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n`\n\nconst Label = styled.span`\n  display: flex;\n  height: 100%;\n  align-items: center;\n  padding-left: 30px;\n  white-space: nowrap;\n  font-size: 22px;\n`\n\nconst BackButton = styled.span`\n  display: flex;\n  align-items: center;\n  height: 63px;\n  padding: ${p => (p.compact ? '0 16px' : '0 20px 0 30px')};\n  cursor: pointer;\n  svg {\n    color: hsl(179, 76%, 48%);\n  }\n  :active svg {\n    color: hsl(179, 76%, 63%);\n  }\n  & + ${Label} {\n    padding-left: 0;\n  }\n`\n\nexport default NavigationBar\n"]},"metadata":{},"sourceType":"module"}