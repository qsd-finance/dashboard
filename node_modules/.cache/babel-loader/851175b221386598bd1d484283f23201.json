{"ast":null,"code":"import _regeneratorRuntime from\"/Users/J/crypto/dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/J/crypto/dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";/* eslint-disable camelcase */import Web3 from'web3';import BigNumber from'bignumber.js';import{notify}from'./txNotifier.ts';import{UniswapV2Router02}from'../constants/contracts';import{QSD,DAI}from'../constants/tokens';var uniswapRouterAbi=require('../constants/abi/UniswapV2Router02.json');var testnetDAIAbi=require('../constants/abi/TestnetUSDC.json');var daoAbi=require('../constants/abi/Implementation.json');var poolAbi=require('../constants/abi/Pool.json');var poolBondingAbi=require('../constants/abi/PoolBonding.json');var poolLPAbi=require('../constants/abi/PoolLP.json');var DEADLINE_FROM_NOW=60*15;var UINT256_MAX='0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff';/**\n * Connection Utilities\n */export var updateModalMode=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(theme){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:window.darkMode=theme==='dark';case 1:case\"end\":return _context.stop();}}},_callee);}));return function updateModalMode(_x){return _ref.apply(this,arguments);};}();export var connect=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ethereum){var addresses;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:window.web3=new Web3(ethereum);_context2.next=3;return window.web3.eth.getAccounts();case 3:addresses=_context2.sent;if(addresses.length){_context2.next=15;break;}_context2.prev=5;_context2.next=8;return window.ethereum.enable();case 8:addresses=_context2.sent;_context2.next=15;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](5);console.log(_context2.t0);return _context2.abrupt(\"return\",false);case 15:return _context2.abrupt(\"return\",addresses.length?addresses[0].toLowerCase():null);case 16:case\"end\":return _context2.stop();}}},_callee2,null,[[5,11]]);}));return function connect(_x2){return _ref2.apply(this,arguments);};}();// eslint-disable-next-line consistent-return\nexport var checkConnectedAndGetAddress=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var addresses;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return window.web3.eth.getAccounts();case 2:addresses=_context3.sent;if(addresses.length){_context3.next=12;break;}_context3.prev=4;_context3.next=7;return window.ethereum.enable();case 7:addresses=_context3.sent;_context3.next=12;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](4);case 12:return _context3.abrupt(\"return\",addresses[0]);case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[4,10]]);}));return function checkConnectedAndGetAddress(){return _ref3.apply(this,arguments);};}();/**\n * ERC20 Utilities\n */export var approve=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(tokenAddr,spender){var amt,account,oToken,_args4=arguments;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:amt=_args4.length>2&&_args4[2]!==undefined?_args4[2]:UINT256_MAX;_context4.next=3;return checkConnectedAndGetAddress();case 3:account=_context4.sent;oToken=new window.web3.eth.Contract(testnetDAIAbi,tokenAddr);_context4.next=7;return oToken.methods.approve(spender,amt).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 7:case\"end\":return _context4.stop();}}},_callee4);}));return function approve(_x3,_x4){return _ref4.apply(this,arguments);};}();export var mintTestnetDAI=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(amount){var account,usdc;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return checkConnectedAndGetAddress();case 2:account=_context5.sent;usdc=new window.web3.eth.Contract(testnetDAIAbi,DAI.addr);_context5.next=6;return usdc.methods.mint(account,new BigNumber(amount).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 6:case\"end\":return _context5.stop();}}},_callee5);}));return function mintTestnetDAI(_x5){return _ref5.apply(this,arguments);};}();/**\n * Uniswap Protocol\n */export var buyQSD=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(buyAmount,maxInputAmount){var account,router,deadline;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return checkConnectedAndGetAddress();case 2:account=_context6.sent;router=new window.web3.eth.Contract(uniswapRouterAbi,UniswapV2Router02);deadline=Math.ceil(Date.now()/1000)+DEADLINE_FROM_NOW;_context6.next=7;return router.methods.swapTokensForExactTokens(buyAmount,maxInputAmount,[DAI.addr,QSD.addr],account,deadline).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 7:case\"end\":return _context6.stop();}}},_callee6);}));return function buyQSD(_x6,_x7){return _ref6.apply(this,arguments);};}();export var sellQSD=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(sellAmount,minOutputAmount){var account,router,deadline;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return checkConnectedAndGetAddress();case 2:account=_context7.sent;router=new window.web3.eth.Contract(uniswapRouterAbi,UniswapV2Router02);deadline=Math.ceil(Date.now()/1000)+DEADLINE_FROM_NOW;_context7.next=7;return router.methods.swapExactTokensForTokens(sellAmount,minOutputAmount,[QSD.addr,DAI.addr],account,deadline).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 7:case\"end\":return _context7.stop();}}},_callee7);}));return function sellQSD(_x8,_x9){return _ref7.apply(this,arguments);};}();export var addLiquidity=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(amountQSD,amountDAI,slippage){var account,router,deadline,slippageBN,minAmountQSD,minAmountDAI;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return checkConnectedAndGetAddress();case 2:account=_context8.sent;router=new window.web3.eth.Contract(uniswapRouterAbi,UniswapV2Router02);deadline=Math.ceil(Date.now()/1000)+DEADLINE_FROM_NOW;slippageBN=new BigNumber(slippage);minAmountQSD=new BigNumber(amountQSD).multipliedBy(new BigNumber(1).minus(slippageBN)).integerValue(BigNumber.ROUND_FLOOR);minAmountDAI=new BigNumber(amountDAI).multipliedBy(new BigNumber(1).minus(slippageBN)).integerValue(BigNumber.ROUND_FLOOR);_context8.next=10;return router.methods.addLiquidity(QSD.addr,DAI.addr,new BigNumber(amountQSD).toFixed(),new BigNumber(amountDAI).toFixed(),minAmountQSD,minAmountDAI,account,deadline).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 10:case\"end\":return _context8.stop();}}},_callee8);}));return function addLiquidity(_x10,_x11,_x12){return _ref8.apply(this,arguments);};}();export var removeLiquidity=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(liquidityAmount,minAmountQSD,minAmountDAI){var account,router,deadline;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return checkConnectedAndGetAddress();case 2:account=_context9.sent;router=new window.web3.eth.Contract(uniswapRouterAbi,UniswapV2Router02);deadline=Math.ceil(Date.now()/1000)+DEADLINE_FROM_NOW;_context9.next=7;return router.methods.removeLiquidity(QSD.addr,DAI.addr,new BigNumber(liquidityAmount).toFixed(),new BigNumber(minAmountQSD).toFixed(),new BigNumber(minAmountDAI).toFixed(),account,deadline).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 7:case\"end\":return _context9.stop();}}},_callee9);}));return function removeLiquidity(_x13,_x14,_x15){return _ref9.apply(this,arguments);};}();/**\n * QSD Protocol\n */export var advance=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(dao){var account,daoContract;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return checkConnectedAndGetAddress();case 2:account=_context10.sent;daoContract=new window.web3.eth.Contract(daoAbi,dao);_context10.next=6;return daoContract.methods.advance().send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 6:case\"end\":return _context10.stop();}}},_callee10);}));return function advance(_x16){return _ref10.apply(this,arguments);};}();export var deposit=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(dao,amount){var account,daoContract;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return checkConnectedAndGetAddress();case 2:account=_context11.sent;daoContract=new window.web3.eth.Contract(daoAbi,dao);_context11.next=6;return daoContract.methods.deposit(new BigNumber(amount).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 6:case\"end\":return _context11.stop();}}},_callee11);}));return function deposit(_x17,_x18){return _ref11.apply(this,arguments);};}();export var withdraw=/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(dao,amount){var account,daoContract;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return checkConnectedAndGetAddress();case 2:account=_context12.sent;daoContract=new window.web3.eth.Contract(daoAbi,dao);_context12.next=6;return daoContract.methods.withdraw(new BigNumber(amount).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 6:case\"end\":return _context12.stop();}}},_callee12);}));return function withdraw(_x19,_x20){return _ref12.apply(this,arguments);};}();export var bond=/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(dao,amount){var account,daoContract;return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.next=2;return checkConnectedAndGetAddress();case 2:account=_context13.sent;daoContract=new window.web3.eth.Contract(daoAbi,dao);_context13.next=6;return daoContract.methods.bond(new BigNumber(amount).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 6:case\"end\":return _context13.stop();}}},_callee13);}));return function bond(_x21,_x22){return _ref13.apply(this,arguments);};}();export var unbond=/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(dao,amount){var account,daoContract;return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_context14.next=2;return checkConnectedAndGetAddress();case 2:account=_context14.sent;daoContract=new window.web3.eth.Contract(daoAbi,dao);_context14.next=6;return daoContract.methods.unbond(new BigNumber(amount).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 6:case\"end\":return _context14.stop();}}},_callee14);}));return function unbond(_x23,_x24){return _ref14.apply(this,arguments);};}();export var unbondUnderlying=/*#__PURE__*/function(){var _ref15=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee15(dao,amount){var account,daoContract;return _regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_context15.next=2;return checkConnectedAndGetAddress();case 2:account=_context15.sent;daoContract=new window.web3.eth.Contract(daoAbi,dao);_context15.next=6;return daoContract.methods.unbondUnderlying(new BigNumber(amount).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 6:case\"end\":return _context15.stop();}}},_callee15);}));return function unbondUnderlying(_x25,_x26){return _ref15.apply(this,arguments);};}();export var purchaseCoupons=/*#__PURE__*/function(){var _ref16=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee16(dao,amount){var account,daoContract;return _regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:_context16.next=2;return checkConnectedAndGetAddress();case 2:account=_context16.sent;daoContract=new window.web3.eth.Contract(daoAbi,dao);_context16.next=6;return daoContract.methods.purchaseCoupons(new BigNumber(amount).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 6:case\"end\":return _context16.stop();}}},_callee16);}));return function purchaseCoupons(_x27,_x28){return _ref16.apply(this,arguments);};}();export var redeemCoupons=/*#__PURE__*/function(){var _ref17=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee17(dao,epoch,amount){var account,daoContract;return _regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:_context17.next=2;return checkConnectedAndGetAddress();case 2:account=_context17.sent;daoContract=new window.web3.eth.Contract(daoAbi,dao);_context17.next=6;return daoContract.methods.redeemCoupons(epoch,new BigNumber(amount).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 6:case\"end\":return _context17.stop();}}},_callee17);}));return function redeemCoupons(_x29,_x30,_x31){return _ref17.apply(this,arguments);};}();export var migrateCoupons=/*#__PURE__*/function(){var _ref18=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee18(dao,epoch){var account,daoContract;return _regeneratorRuntime.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:_context18.next=2;return checkConnectedAndGetAddress();case 2:account=_context18.sent;daoContract=new window.web3.eth.Contract(daoAbi,dao);_context18.next=6;return daoContract.methods.migrateCoupons(epoch).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 6:case\"end\":return _context18.stop();}}},_callee18);}));return function migrateCoupons(_x32,_x33){return _ref18.apply(this,arguments);};}();export var recordVote=/*#__PURE__*/function(){var _ref19=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee19(dao,candidate,voteType){var account,daoContract;return _regeneratorRuntime.wrap(function _callee19$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:_context19.next=2;return checkConnectedAndGetAddress();case 2:account=_context19.sent;daoContract=new window.web3.eth.Contract(daoAbi,dao);_context19.next=6;return daoContract.methods.vote(candidate,voteType).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 6:case\"end\":return _context19.stop();}}},_callee19);}));return function recordVote(_x34,_x35,_x36){return _ref19.apply(this,arguments);};}();export var commit=/*#__PURE__*/function(){var _ref20=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee20(dao,candidate){var account,daoContract;return _regeneratorRuntime.wrap(function _callee20$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:_context20.next=2;return checkConnectedAndGetAddress();case 2:account=_context20.sent;daoContract=new window.web3.eth.Contract(daoAbi,dao);_context20.next=6;return daoContract.methods.commit(candidate).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);});case 6:case\"end\":return _context20.stop();}}},_callee20);}));return function commit(_x37,_x38){return _ref20.apply(this,arguments);};}();/* UNI-V2 Incentivization Pool */export var depositPool=/*#__PURE__*/function(){var _ref21=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee21(pool,amount,callback){var account,poolContract;return _regeneratorRuntime.wrap(function _callee21$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:_context21.next=2;return checkConnectedAndGetAddress();case 2:account=_context21.sent;poolContract=new window.web3.eth.Contract(poolAbi,pool);_context21.next=6;return poolContract.methods.deposit(new BigNumber(amount).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);callback(hash);});case 6:case\"end\":return _context21.stop();}}},_callee21);}));return function depositPool(_x39,_x40,_x41){return _ref21.apply(this,arguments);};}();export var withdrawPool=/*#__PURE__*/function(){var _ref22=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee22(pool,amount,callback){var account,poolContract;return _regeneratorRuntime.wrap(function _callee22$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:_context22.next=2;return checkConnectedAndGetAddress();case 2:account=_context22.sent;poolContract=new window.web3.eth.Contract(poolAbi,pool);_context22.next=6;return poolContract.methods.withdraw(new BigNumber(amount).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);callback(hash);});case 6:case\"end\":return _context22.stop();}}},_callee22);}));return function withdrawPool(_x42,_x43,_x44){return _ref22.apply(this,arguments);};}();export var bondPool=/*#__PURE__*/function(){var _ref23=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee23(pool,amount,callback){var account,poolContract;return _regeneratorRuntime.wrap(function _callee23$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:_context23.next=2;return checkConnectedAndGetAddress();case 2:account=_context23.sent;poolContract=new window.web3.eth.Contract(poolAbi,pool);_context23.next=6;return poolContract.methods.bond(new BigNumber(amount).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);callback(hash);});case 6:case\"end\":return _context23.stop();}}},_callee23);}));return function bondPool(_x45,_x46,_x47){return _ref23.apply(this,arguments);};}();export var unbondPool=/*#__PURE__*/function(){var _ref24=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee24(pool,amount,callback){var account,poolContract;return _regeneratorRuntime.wrap(function _callee24$(_context24){while(1){switch(_context24.prev=_context24.next){case 0:_context24.next=2;return checkConnectedAndGetAddress();case 2:account=_context24.sent;poolContract=new window.web3.eth.Contract(poolAbi,pool);_context24.next=6;return poolContract.methods.unbond(new BigNumber(amount).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);callback(hash);});case 6:case\"end\":return _context24.stop();}}},_callee24);}));return function unbondPool(_x48,_x49,_x50){return _ref24.apply(this,arguments);};}();export var claimPool=/*#__PURE__*/function(){var _ref25=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee25(pool,amount,callback){var account,poolContract;return _regeneratorRuntime.wrap(function _callee25$(_context25){while(1){switch(_context25.prev=_context25.next){case 0:_context25.next=2;return checkConnectedAndGetAddress();case 2:account=_context25.sent;poolContract=new window.web3.eth.Contract(poolAbi,pool);_context25.next=6;return poolContract.methods.claim(new BigNumber(amount).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);callback(hash);});case 6:case\"end\":return _context25.stop();}}},_callee25);}));return function claimPool(_x51,_x52,_x53){return _ref25.apply(this,arguments);};}();export var providePool=/*#__PURE__*/function(){var _ref26=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee26(pool,amount,callback){var account,poolContract;return _regeneratorRuntime.wrap(function _callee26$(_context26){while(1){switch(_context26.prev=_context26.next){case 0:_context26.next=2;return checkConnectedAndGetAddress();case 2:account=_context26.sent;poolContract=new window.web3.eth.Contract(poolAbi,pool);_context26.next=6;return poolContract.methods.provide(new BigNumber(amount).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);callback(hash);});case 6:case\"end\":return _context26.stop();}}},_callee26);}));return function providePool(_x54,_x55,_x56){return _ref26.apply(this,arguments);};}();export var providePoolOptimalOneSided=/*#__PURE__*/function(){var _ref27=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee27(pool,amount,callback){var account,poolContract;return _regeneratorRuntime.wrap(function _callee27$(_context27){while(1){switch(_context27.prev=_context27.next){case 0:_context27.next=2;return checkConnectedAndGetAddress();case 2:account=_context27.sent;poolContract=new window.web3.eth.Contract(poolLPAbi,pool);_context27.next=6;return poolContract.methods.provideOneSided(new BigNumber(amount).toFixed()).send({from:account}).on('transactionHash',function(hash){notify.hash(hash);callback(hash);});case 6:case\"end\":return _context27.stop();}}},_callee27);}));return function providePoolOptimalOneSided(_x57,_x58,_x59){return _ref27.apply(this,arguments);};}();export var pokeRewards=/*#__PURE__*/function(){var _ref28=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee28(pool,callback){var account,poolContract;return _regeneratorRuntime.wrap(function _callee28$(_context28){while(1){switch(_context28.prev=_context28.next){case 0:_context28.next=2;return checkConnectedAndGetAddress();case 2:account=_context28.sent;poolContract=new window.web3.eth.Contract(poolBondingAbi,pool);_context28.next=6;return poolContract.methods.pokeRewards().send({from:account}).on('transactionHash',function(hash){notify.hash(hash);if(callback){callback(hash);}});case 6:case\"end\":return _context28.stop();}}},_callee28);}));return function pokeRewards(_x60,_x61){return _ref28.apply(this,arguments);};}();export var claimRewards=/*#__PURE__*/function(){var _ref29=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee29(pool,callback){var account,poolContract;return _regeneratorRuntime.wrap(function _callee29$(_context29){while(1){switch(_context29.prev=_context29.next){case 0:_context29.next=2;return checkConnectedAndGetAddress();case 2:account=_context29.sent;poolContract=new window.web3.eth.Contract(poolBondingAbi,pool);_context29.next=6;return poolContract.methods.claimAll().send({from:account}).on('transactionHash',function(hash){notify.hash(hash);if(callback){callback(hash);}});case 6:case\"end\":return _context29.stop();}}},_callee29);}));return function claimRewards(_x62,_x63){return _ref29.apply(this,arguments);};}();","map":{"version":3,"sources":["/Users/J/crypto/dashboard/src/utils/web3.js"],"names":["Web3","BigNumber","notify","UniswapV2Router02","QSD","DAI","uniswapRouterAbi","require","testnetDAIAbi","daoAbi","poolAbi","poolBondingAbi","poolLPAbi","DEADLINE_FROM_NOW","UINT256_MAX","updateModalMode","theme","window","darkMode","connect","ethereum","web3","eth","getAccounts","addresses","length","enable","console","log","toLowerCase","checkConnectedAndGetAddress","approve","tokenAddr","spender","amt","account","oToken","Contract","methods","send","from","on","hash","mintTestnetDAI","amount","usdc","addr","mint","toFixed","buyQSD","buyAmount","maxInputAmount","router","deadline","Math","ceil","Date","now","swapTokensForExactTokens","sellQSD","sellAmount","minOutputAmount","swapExactTokensForTokens","addLiquidity","amountQSD","amountDAI","slippage","slippageBN","minAmountQSD","multipliedBy","minus","integerValue","ROUND_FLOOR","minAmountDAI","removeLiquidity","liquidityAmount","advance","dao","daoContract","deposit","withdraw","bond","unbond","unbondUnderlying","purchaseCoupons","redeemCoupons","epoch","migrateCoupons","recordVote","candidate","voteType","vote","commit","depositPool","pool","callback","poolContract","withdrawPool","bondPool","unbondPool","claimPool","claim","providePool","provide","providePoolOptimalOneSided","provideOneSided","pokeRewards","claimRewards","claimAll"],"mappings":"6RAAA,8BACA,MAAOA,CAAAA,IAAP,KAAiB,MAAjB,CACA,MAAOC,CAAAA,SAAP,KAAsB,cAAtB,CAEA,OAASC,MAAT,KAAuB,iBAAvB,CACA,OAASC,iBAAT,KAAkC,wBAAlC,CAEA,OAASC,GAAT,CAAcC,GAAd,KAAyB,qBAAzB,CAEA,GAAMC,CAAAA,gBAAgB,CAAGC,OAAO,CAAC,yCAAD,CAAhC,CACA,GAAMC,CAAAA,aAAa,CAAGD,OAAO,CAAC,mCAAD,CAA7B,CACA,GAAME,CAAAA,MAAM,CAAGF,OAAO,CAAC,sCAAD,CAAtB,CACA,GAAMG,CAAAA,OAAO,CAAGH,OAAO,CAAC,4BAAD,CAAvB,CACA,GAAMI,CAAAA,cAAc,CAAGJ,OAAO,CAAC,mCAAD,CAA9B,CACA,GAAMK,CAAAA,SAAS,CAAGL,OAAO,CAAC,8BAAD,CAAzB,CAEA,GAAMM,CAAAA,iBAAiB,CAAG,GAAK,EAA/B,CACA,GAAMC,CAAAA,WAAW,CACf,oEADF,CAGA;;GAIA,MAAO,IAAMC,CAAAA,eAAe,0FAAG,iBAAOC,KAAP,kHAC7BC,MAAM,CAACC,QAAP,CAAkBF,KAAK,GAAK,MAA5B,CAD6B,sDAAH,kBAAfD,CAAAA,eAAe,4CAArB,CAIP,MAAO,IAAMI,CAAAA,OAAO,2FAAG,kBAAOC,QAAP,oIACrBH,MAAM,CAACI,IAAP,CAAc,GAAIrB,CAAAA,IAAJ,CAASoB,QAAT,CAAd,CADqB,uBAECH,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBC,WAAhB,EAFD,QAEjBC,SAFiB,mBAGhBA,SAAS,CAACC,MAHM,mEAKCR,CAAAA,MAAM,CAACG,QAAP,CAAgBM,MAAhB,EALD,QAKjBF,SALiB,qGAOjBG,OAAO,CAACC,GAAR,eAPiB,iCAQV,KARU,2CAYdJ,SAAS,CAACC,MAAV,CAAmBD,SAAS,CAAC,CAAD,CAAT,CAAaK,WAAb,EAAnB,CAAgD,IAZlC,yEAAH,kBAAPV,CAAAA,OAAO,8CAAb,CAeP;AACA,MAAO,IAAMW,CAAAA,2BAA2B,2FAAG,6KACnBb,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBC,WAAhB,EADmB,QACrCC,SADqC,mBAEpCA,SAAS,CAACC,MAF0B,mEAInBR,CAAAA,MAAM,CAACG,QAAP,CAAgBM,MAAhB,EAJmB,QAIrCF,SAJqC,8IASlCA,SAAS,CAAC,CAAD,CATyB,yEAAH,kBAA3BM,CAAAA,2BAA2B,2CAAjC,CAYP;;GAIA,MAAO,IAAMC,CAAAA,OAAO,2FAAG,kBAAOC,SAAP,CAAkBC,OAAlB,8JAA2BC,GAA3B,kDAAiCpB,WAAjC,wBACCgB,CAAAA,2BAA2B,EAD5B,QACfK,OADe,gBAEfC,MAFe,CAEN,GAAInB,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CAA6B7B,aAA7B,CAA4CwB,SAA5C,CAFM,wBAGfI,CAAAA,MAAM,CAACE,OAAP,CACHP,OADG,CACKE,OADL,CACcC,GADd,EAEHK,IAFG,CAEE,CAAEC,IAAI,CAAEL,OAAR,CAFF,EAGHM,EAHG,CAGA,iBAHA,CAGmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACD,CALG,CAHe,yDAAH,kBAAPX,CAAAA,OAAO,kDAAb,CAWP,MAAO,IAAMY,CAAAA,cAAc,2FAAG,kBAAOC,MAAP,8JACNd,CAAAA,2BAA2B,EADrB,QACtBK,OADsB,gBAEtBU,IAFsB,CAEf,GAAI5B,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CAA6B7B,aAA7B,CAA4CH,GAAG,CAACyC,IAAhD,CAFe,wBAItBD,CAAAA,IAAI,CAACP,OAAL,CACHS,IADG,CACEZ,OADF,CACW,GAAIlC,CAAAA,SAAJ,CAAc2C,MAAd,EAAsBI,OAAtB,EADX,EAEHT,IAFG,CAEE,CAAEC,IAAI,CAAEL,OAAR,CAFF,EAGHM,EAHG,CAGA,iBAHA,CAGmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACD,CALG,CAJsB,yDAAH,kBAAdC,CAAAA,cAAc,8CAApB,CAYP;;GAIA,MAAO,IAAMM,CAAAA,MAAM,2FAAG,kBAAOC,SAAP,CAAkBC,cAAlB,yKACErB,CAAAA,2BAA2B,EAD7B,QACdK,OADc,gBAEdiB,MAFc,CAEL,GAAInC,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CACb/B,gBADa,CAEbH,iBAFa,CAFK,CAMdkD,QANc,CAMHC,IAAI,CAACC,IAAL,CAAUC,IAAI,CAACC,GAAL,GAAa,IAAvB,EAA+B5C,iBAN5B,wBAQduC,CAAAA,MAAM,CAACd,OAAP,CACHoB,wBADG,CAEFR,SAFE,CAGFC,cAHE,CAIF,CAAC9C,GAAG,CAACyC,IAAL,CAAW1C,GAAG,CAAC0C,IAAf,CAJE,CAKFX,OALE,CAMFkB,QANE,EAQHd,IARG,CAQE,CAAEC,IAAI,CAAEL,OAAR,CARF,EASHM,EATG,CASA,iBATA,CASmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACD,CAXG,CARc,yDAAH,kBAANO,CAAAA,MAAM,kDAAZ,CAsBP,MAAO,IAAMU,CAAAA,OAAO,2FAAG,kBAAOC,UAAP,CAAmBC,eAAnB,yKACC/B,CAAAA,2BAA2B,EAD5B,QACfK,OADe,gBAEfiB,MAFe,CAEN,GAAInC,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CACb/B,gBADa,CAEbH,iBAFa,CAFM,CAMfkD,QANe,CAMJC,IAAI,CAACC,IAAL,CAAUC,IAAI,CAACC,GAAL,GAAa,IAAvB,EAA+B5C,iBAN3B,wBAQfuC,CAAAA,MAAM,CAACd,OAAP,CACHwB,wBADG,CAEFF,UAFE,CAGFC,eAHE,CAIF,CAACzD,GAAG,CAAC0C,IAAL,CAAWzC,GAAG,CAACyC,IAAf,CAJE,CAKFX,OALE,CAMFkB,QANE,EAQHd,IARG,CAQE,CAAEC,IAAI,CAAEL,OAAR,CARF,EASHM,EATG,CASA,iBATA,CASmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACD,CAXG,CARe,yDAAH,kBAAPiB,CAAAA,OAAO,kDAAb,CAsBP,MAAO,IAAMI,CAAAA,YAAY,2FAAG,kBAAOC,SAAP,CAAkBC,SAAlB,CAA6BC,QAA7B,8MACJpC,CAAAA,2BAA2B,EADvB,QACpBK,OADoB,gBAEpBiB,MAFoB,CAEX,GAAInC,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CACb/B,gBADa,CAEbH,iBAFa,CAFW,CAMpBkD,QANoB,CAMTC,IAAI,CAACC,IAAL,CAAUC,IAAI,CAACC,GAAL,GAAa,IAAvB,EAA+B5C,iBANtB,CAOpBsD,UAPoB,CAOP,GAAIlE,CAAAA,SAAJ,CAAciE,QAAd,CAPO,CAQpBE,YARoB,CAQL,GAAInE,CAAAA,SAAJ,CAAc+D,SAAd,EAClBK,YADkB,CACL,GAAIpE,CAAAA,SAAJ,CAAc,CAAd,EAAiBqE,KAAjB,CAAuBH,UAAvB,CADK,EAElBI,YAFkB,CAELtE,SAAS,CAACuE,WAFL,CARK,CAWpBC,YAXoB,CAWL,GAAIxE,CAAAA,SAAJ,CAAcgE,SAAd,EAClBI,YADkB,CACL,GAAIpE,CAAAA,SAAJ,CAAc,CAAd,EAAiBqE,KAAjB,CAAuBH,UAAvB,CADK,EAElBI,YAFkB,CAELtE,SAAS,CAACuE,WAFL,CAXK,yBAepBpB,CAAAA,MAAM,CAACd,OAAP,CACHyB,YADG,CAEF3D,GAAG,CAAC0C,IAFF,CAGFzC,GAAG,CAACyC,IAHF,CAIF,GAAI7C,CAAAA,SAAJ,CAAc+D,SAAd,EAAyBhB,OAAzB,EAJE,CAKF,GAAI/C,CAAAA,SAAJ,CAAcgE,SAAd,EAAyBjB,OAAzB,EALE,CAMFoB,YANE,CAOFK,YAPE,CAQFtC,OARE,CASFkB,QATE,EAWHd,IAXG,CAWE,CAAEC,IAAI,CAAEL,OAAR,CAXF,EAYHM,EAZG,CAYA,iBAZA,CAYmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACD,CAdG,CAfoB,0DAAH,kBAAZqB,CAAAA,YAAY,yDAAlB,CAgCP,MAAO,IAAMW,CAAAA,eAAe,2FAAG,kBAC7BC,eAD6B,CAE7BP,YAF6B,CAG7BK,YAH6B,yKAKP3C,CAAAA,2BAA2B,EALpB,QAKvBK,OALuB,gBAMvBiB,MANuB,CAMd,GAAInC,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CACb/B,gBADa,CAEbH,iBAFa,CANc,CAUvBkD,QAVuB,CAUZC,IAAI,CAACC,IAAL,CAAUC,IAAI,CAACC,GAAL,GAAa,IAAvB,EAA+B5C,iBAVnB,wBAYvBuC,CAAAA,MAAM,CAACd,OAAP,CACHoC,eADG,CAEFtE,GAAG,CAAC0C,IAFF,CAGFzC,GAAG,CAACyC,IAHF,CAIF,GAAI7C,CAAAA,SAAJ,CAAc0E,eAAd,EAA+B3B,OAA/B,EAJE,CAKF,GAAI/C,CAAAA,SAAJ,CAAcmE,YAAd,EAA4BpB,OAA5B,EALE,CAMF,GAAI/C,CAAAA,SAAJ,CAAcwE,YAAd,EAA4BzB,OAA5B,EANE,CAOFb,OAPE,CAQFkB,QARE,EAUHd,IAVG,CAUE,CAAEC,IAAI,CAAEL,OAAR,CAVF,EAWHM,EAXG,CAWA,iBAXA,CAWmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACD,CAbG,CAZuB,yDAAH,kBAAfgC,CAAAA,eAAe,yDAArB,CA4BP;;GAIA,MAAO,IAAME,CAAAA,OAAO,4FAAG,mBAAOC,GAAP,0KACC/C,CAAAA,2BAA2B,EAD5B,QACfK,OADe,iBAEf2C,WAFe,CAED,GAAI7D,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CAA6B5B,MAA7B,CAAqCoE,GAArC,CAFC,yBAGfC,CAAAA,WAAW,CAACxC,OAAZ,CACHsC,OADG,GAEHrC,IAFG,CAEE,CACJC,IAAI,CAAEL,OADF,CAFF,EAKHM,EALG,CAKA,iBALA,CAKmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACD,CAPG,CAHe,2DAAH,kBAAPkC,CAAAA,OAAO,gDAAb,CAaP,MAAO,IAAMG,CAAAA,OAAO,4FAAG,mBAAOF,GAAP,CAAYjC,MAAZ,0KACCd,CAAAA,2BAA2B,EAD5B,QACfK,OADe,iBAEf2C,WAFe,CAED,GAAI7D,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CAA6B5B,MAA7B,CAAqCoE,GAArC,CAFC,yBAGfC,CAAAA,WAAW,CAACxC,OAAZ,CACHyC,OADG,CACK,GAAI9E,CAAAA,SAAJ,CAAc2C,MAAd,EAAsBI,OAAtB,EADL,EAEHT,IAFG,CAEE,CACJC,IAAI,CAAEL,OADF,CAFF,EAKHM,EALG,CAKA,iBALA,CAKmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACD,CAPG,CAHe,2DAAH,kBAAPqC,CAAAA,OAAO,qDAAb,CAaP,MAAO,IAAMC,CAAAA,QAAQ,4FAAG,mBAAOH,GAAP,CAAYjC,MAAZ,0KACAd,CAAAA,2BAA2B,EAD3B,QAChBK,OADgB,iBAEhB2C,WAFgB,CAEF,GAAI7D,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CAA6B5B,MAA7B,CAAqCoE,GAArC,CAFE,yBAGhBC,CAAAA,WAAW,CAACxC,OAAZ,CACH0C,QADG,CACM,GAAI/E,CAAAA,SAAJ,CAAc2C,MAAd,EAAsBI,OAAtB,EADN,EAEHT,IAFG,CAEE,CACJC,IAAI,CAAEL,OADF,CAFF,EAKHM,EALG,CAKA,iBALA,CAKmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACD,CAPG,CAHgB,2DAAH,kBAARsC,CAAAA,QAAQ,qDAAd,CAaP,MAAO,IAAMC,CAAAA,IAAI,4FAAG,mBAAOJ,GAAP,CAAYjC,MAAZ,0KACId,CAAAA,2BAA2B,EAD/B,QACZK,OADY,iBAEZ2C,WAFY,CAEE,GAAI7D,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CAA6B5B,MAA7B,CAAqCoE,GAArC,CAFF,yBAGZC,CAAAA,WAAW,CAACxC,OAAZ,CACH2C,IADG,CACE,GAAIhF,CAAAA,SAAJ,CAAc2C,MAAd,EAAsBI,OAAtB,EADF,EAEHT,IAFG,CAEE,CACJC,IAAI,CAAEL,OADF,CAFF,EAKHM,EALG,CAKA,iBALA,CAKmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACD,CAPG,CAHY,2DAAH,kBAAJuC,CAAAA,IAAI,qDAAV,CAaP,MAAO,IAAMC,CAAAA,MAAM,4FAAG,mBAAOL,GAAP,CAAYjC,MAAZ,0KACEd,CAAAA,2BAA2B,EAD7B,QACdK,OADc,iBAEd2C,WAFc,CAEA,GAAI7D,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CAA6B5B,MAA7B,CAAqCoE,GAArC,CAFA,yBAGdC,CAAAA,WAAW,CAACxC,OAAZ,CACH4C,MADG,CACI,GAAIjF,CAAAA,SAAJ,CAAc2C,MAAd,EAAsBI,OAAtB,EADJ,EAEHT,IAFG,CAEE,CACJC,IAAI,CAAEL,OADF,CAFF,EAKHM,EALG,CAKA,iBALA,CAKmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACD,CAPG,CAHc,2DAAH,kBAANwC,CAAAA,MAAM,qDAAZ,CAaP,MAAO,IAAMC,CAAAA,gBAAgB,4FAAG,mBAAON,GAAP,CAAYjC,MAAZ,0KACRd,CAAAA,2BAA2B,EADnB,QACxBK,OADwB,iBAExB2C,WAFwB,CAEV,GAAI7D,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CAA6B5B,MAA7B,CAAqCoE,GAArC,CAFU,yBAGxBC,CAAAA,WAAW,CAACxC,OAAZ,CACH6C,gBADG,CACc,GAAIlF,CAAAA,SAAJ,CAAc2C,MAAd,EAAsBI,OAAtB,EADd,EAEHT,IAFG,CAEE,CACJC,IAAI,CAAEL,OADF,CAFF,EAKHM,EALG,CAKA,iBALA,CAKmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACD,CAPG,CAHwB,2DAAH,kBAAhByC,CAAAA,gBAAgB,qDAAtB,CAaP,MAAO,IAAMC,CAAAA,eAAe,4FAAG,mBAAOP,GAAP,CAAYjC,MAAZ,0KACPd,CAAAA,2BAA2B,EADpB,QACvBK,OADuB,iBAEvB2C,WAFuB,CAET,GAAI7D,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CAA6B5B,MAA7B,CAAqCoE,GAArC,CAFS,yBAGvBC,CAAAA,WAAW,CAACxC,OAAZ,CACH8C,eADG,CACa,GAAInF,CAAAA,SAAJ,CAAc2C,MAAd,EAAsBI,OAAtB,EADb,EAEHT,IAFG,CAEE,CACJC,IAAI,CAAEL,OADF,CAFF,EAKHM,EALG,CAKA,iBALA,CAKmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACD,CAPG,CAHuB,2DAAH,kBAAf0C,CAAAA,eAAe,qDAArB,CAaP,MAAO,IAAMC,CAAAA,aAAa,4FAAG,mBAAOR,GAAP,CAAYS,KAAZ,CAAmB1C,MAAnB,0KACLd,CAAAA,2BAA2B,EADtB,QACrBK,OADqB,iBAErB2C,WAFqB,CAEP,GAAI7D,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CAA6B5B,MAA7B,CAAqCoE,GAArC,CAFO,yBAGrBC,CAAAA,WAAW,CAACxC,OAAZ,CACH+C,aADG,CACWC,KADX,CACkB,GAAIrF,CAAAA,SAAJ,CAAc2C,MAAd,EAAsBI,OAAtB,EADlB,EAEHT,IAFG,CAEE,CACJC,IAAI,CAAEL,OADF,CAFF,EAKHM,EALG,CAKA,iBALA,CAKmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACD,CAPG,CAHqB,2DAAH,kBAAb2C,CAAAA,aAAa,0DAAnB,CAaP,MAAO,IAAME,CAAAA,cAAc,4FAAG,mBAAOV,GAAP,CAAYS,KAAZ,0KACNxD,CAAAA,2BAA2B,EADrB,QACtBK,OADsB,iBAEtB2C,WAFsB,CAER,GAAI7D,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CAA6B5B,MAA7B,CAAqCoE,GAArC,CAFQ,yBAGtBC,CAAAA,WAAW,CAACxC,OAAZ,CACHiD,cADG,CACYD,KADZ,EAEH/C,IAFG,CAEE,CACJC,IAAI,CAAEL,OADF,CAFF,EAKHM,EALG,CAKA,iBALA,CAKmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACD,CAPG,CAHsB,2DAAH,kBAAd6C,CAAAA,cAAc,qDAApB,CAaP,MAAO,IAAMC,CAAAA,UAAU,4FAAG,mBAAOX,GAAP,CAAYY,SAAZ,CAAuBC,QAAvB,0KACF5D,CAAAA,2BAA2B,EADzB,QAClBK,OADkB,iBAElB2C,WAFkB,CAEJ,GAAI7D,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CAA6B5B,MAA7B,CAAqCoE,GAArC,CAFI,yBAGlBC,CAAAA,WAAW,CAACxC,OAAZ,CACHqD,IADG,CACEF,SADF,CACaC,QADb,EAEHnD,IAFG,CAEE,CACJC,IAAI,CAAEL,OADF,CAFF,EAKHM,EALG,CAKA,iBALA,CAKmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACD,CAPG,CAHkB,2DAAH,kBAAV8C,CAAAA,UAAU,0DAAhB,CAaP,MAAO,IAAMI,CAAAA,MAAM,4FAAG,mBAAOf,GAAP,CAAYY,SAAZ,0KACE3D,CAAAA,2BAA2B,EAD7B,QACdK,OADc,iBAEd2C,WAFc,CAEA,GAAI7D,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CAA6B5B,MAA7B,CAAqCoE,GAArC,CAFA,yBAGdC,CAAAA,WAAW,CAACxC,OAAZ,CACHsD,MADG,CACIH,SADJ,EAEHlD,IAFG,CAEE,CACJC,IAAI,CAAEL,OADF,CAFF,EAKHM,EALG,CAKA,iBALA,CAKmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACD,CAPG,CAHc,2DAAH,kBAANkD,CAAAA,MAAM,qDAAZ,CAaP,iCACA,MAAO,IAAMC,CAAAA,WAAW,4FAAG,mBAAOC,IAAP,CAAalD,MAAb,CAAqBmD,QAArB,2KACHjE,CAAAA,2BAA2B,EADxB,QACnBK,OADmB,iBAEnB6D,YAFmB,CAEJ,GAAI/E,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CAA6B3B,OAA7B,CAAsCoF,IAAtC,CAFI,yBAGnBE,CAAAA,YAAY,CAAC1D,OAAb,CACHyC,OADG,CACK,GAAI9E,CAAAA,SAAJ,CAAc2C,MAAd,EAAsBI,OAAtB,EADL,EAEHT,IAFG,CAEE,CACJC,IAAI,CAAEL,OADF,CAFF,EAKHM,EALG,CAKA,iBALA,CAKmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACAqD,QAAQ,CAACrD,IAAD,CAAR,CACD,CARG,CAHmB,2DAAH,kBAAXmD,CAAAA,WAAW,0DAAjB,CAcP,MAAO,IAAMI,CAAAA,YAAY,4FAAG,mBAAOH,IAAP,CAAalD,MAAb,CAAqBmD,QAArB,2KACJjE,CAAAA,2BAA2B,EADvB,QACpBK,OADoB,iBAEpB6D,YAFoB,CAEL,GAAI/E,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CAA6B3B,OAA7B,CAAsCoF,IAAtC,CAFK,yBAGpBE,CAAAA,YAAY,CAAC1D,OAAb,CACH0C,QADG,CACM,GAAI/E,CAAAA,SAAJ,CAAc2C,MAAd,EAAsBI,OAAtB,EADN,EAEHT,IAFG,CAEE,CACJC,IAAI,CAAEL,OADF,CAFF,EAKHM,EALG,CAKA,iBALA,CAKmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACAqD,QAAQ,CAACrD,IAAD,CAAR,CACD,CARG,CAHoB,2DAAH,kBAAZuD,CAAAA,YAAY,0DAAlB,CAcP,MAAO,IAAMC,CAAAA,QAAQ,4FAAG,mBAAOJ,IAAP,CAAalD,MAAb,CAAqBmD,QAArB,2KACAjE,CAAAA,2BAA2B,EAD3B,QAChBK,OADgB,iBAEhB6D,YAFgB,CAED,GAAI/E,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CAA6B3B,OAA7B,CAAsCoF,IAAtC,CAFC,yBAGhBE,CAAAA,YAAY,CAAC1D,OAAb,CACH2C,IADG,CACE,GAAIhF,CAAAA,SAAJ,CAAc2C,MAAd,EAAsBI,OAAtB,EADF,EAEHT,IAFG,CAEE,CACJC,IAAI,CAAEL,OADF,CAFF,EAKHM,EALG,CAKA,iBALA,CAKmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACAqD,QAAQ,CAACrD,IAAD,CAAR,CACD,CARG,CAHgB,2DAAH,kBAARwD,CAAAA,QAAQ,0DAAd,CAcP,MAAO,IAAMC,CAAAA,UAAU,4FAAG,mBAAOL,IAAP,CAAalD,MAAb,CAAqBmD,QAArB,2KACFjE,CAAAA,2BAA2B,EADzB,QAClBK,OADkB,iBAElB6D,YAFkB,CAEH,GAAI/E,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CAA6B3B,OAA7B,CAAsCoF,IAAtC,CAFG,yBAGlBE,CAAAA,YAAY,CAAC1D,OAAb,CACH4C,MADG,CACI,GAAIjF,CAAAA,SAAJ,CAAc2C,MAAd,EAAsBI,OAAtB,EADJ,EAEHT,IAFG,CAEE,CACJC,IAAI,CAAEL,OADF,CAFF,EAKHM,EALG,CAKA,iBALA,CAKmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACAqD,QAAQ,CAACrD,IAAD,CAAR,CACD,CARG,CAHkB,2DAAH,kBAAVyD,CAAAA,UAAU,0DAAhB,CAcP,MAAO,IAAMC,CAAAA,SAAS,4FAAG,mBAAON,IAAP,CAAalD,MAAb,CAAqBmD,QAArB,2KACDjE,CAAAA,2BAA2B,EAD1B,QACjBK,OADiB,iBAEjB6D,YAFiB,CAEF,GAAI/E,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CAA6B3B,OAA7B,CAAsCoF,IAAtC,CAFE,yBAGjBE,CAAAA,YAAY,CAAC1D,OAAb,CACH+D,KADG,CACG,GAAIpG,CAAAA,SAAJ,CAAc2C,MAAd,EAAsBI,OAAtB,EADH,EAEHT,IAFG,CAEE,CACJC,IAAI,CAAEL,OADF,CAFF,EAKHM,EALG,CAKA,iBALA,CAKmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACAqD,QAAQ,CAACrD,IAAD,CAAR,CACD,CARG,CAHiB,2DAAH,kBAAT0D,CAAAA,SAAS,0DAAf,CAcP,MAAO,IAAME,CAAAA,WAAW,4FAAG,mBAAOR,IAAP,CAAalD,MAAb,CAAqBmD,QAArB,2KACHjE,CAAAA,2BAA2B,EADxB,QACnBK,OADmB,iBAEnB6D,YAFmB,CAEJ,GAAI/E,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CAA6B3B,OAA7B,CAAsCoF,IAAtC,CAFI,yBAGnBE,CAAAA,YAAY,CAAC1D,OAAb,CACHiE,OADG,CACK,GAAItG,CAAAA,SAAJ,CAAc2C,MAAd,EAAsBI,OAAtB,EADL,EAEHT,IAFG,CAEE,CACJC,IAAI,CAAEL,OADF,CAFF,EAKHM,EALG,CAKA,iBALA,CAKmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACAqD,QAAQ,CAACrD,IAAD,CAAR,CACD,CARG,CAHmB,2DAAH,kBAAX4D,CAAAA,WAAW,0DAAjB,CAcP,MAAO,IAAME,CAAAA,0BAA0B,4FAAG,mBAAOV,IAAP,CAAalD,MAAb,CAAqBmD,QAArB,2KAClBjE,CAAAA,2BAA2B,EADT,QAClCK,OADkC,iBAElC6D,YAFkC,CAEnB,GAAI/E,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CAA6BzB,SAA7B,CAAwCkF,IAAxC,CAFmB,yBAGlCE,CAAAA,YAAY,CAAC1D,OAAb,CACHmE,eADG,CACa,GAAIxG,CAAAA,SAAJ,CAAc2C,MAAd,EAAsBI,OAAtB,EADb,EAEHT,IAFG,CAEE,CACJC,IAAI,CAAEL,OADF,CAFF,EAKHM,EALG,CAKA,iBALA,CAKmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACAqD,QAAQ,CAACrD,IAAD,CAAR,CACD,CARG,CAHkC,2DAAH,kBAA1B8D,CAAAA,0BAA0B,0DAAhC,CAcP,MAAO,IAAME,CAAAA,WAAW,4FAAG,mBAAOZ,IAAP,CAAaC,QAAb,2KACHjE,CAAAA,2BAA2B,EADxB,QACnBK,OADmB,iBAEnB6D,YAFmB,CAEJ,GAAI/E,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CAA6B1B,cAA7B,CAA6CmF,IAA7C,CAFI,yBAGnBE,CAAAA,YAAY,CAAC1D,OAAb,CACHoE,WADG,GAEHnE,IAFG,CAEE,CAAEC,IAAI,CAAEL,OAAR,CAFF,EAGHM,EAHG,CAGA,iBAHA,CAGmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACA,GAAIqD,QAAJ,CAAc,CACZA,QAAQ,CAACrD,IAAD,CAAR,CACD,CACF,CARG,CAHmB,2DAAH,kBAAXgE,CAAAA,WAAW,qDAAjB,CAcP,MAAO,IAAMC,CAAAA,YAAY,4FAAG,mBAAOb,IAAP,CAAaC,QAAb,2KACJjE,CAAAA,2BAA2B,EADvB,QACpBK,OADoB,iBAEpB6D,YAFoB,CAEL,GAAI/E,CAAAA,MAAM,CAACI,IAAP,CAAYC,GAAZ,CAAgBe,QAApB,CAA6B1B,cAA7B,CAA6CmF,IAA7C,CAFK,yBAGpBE,CAAAA,YAAY,CAAC1D,OAAb,CACHsE,QADG,GAEHrE,IAFG,CAEE,CAAEC,IAAI,CAAEL,OAAR,CAFF,EAGHM,EAHG,CAGA,iBAHA,CAGmB,SAACC,IAAD,CAAU,CAC/BxC,MAAM,CAACwC,IAAP,CAAYA,IAAZ,EACA,GAAIqD,QAAJ,CAAc,CACZA,QAAQ,CAACrD,IAAD,CAAR,CACD,CACF,CARG,CAHoB,2DAAH,kBAAZiE,CAAAA,YAAY,qDAAlB","sourcesContent":["/* eslint-disable camelcase */\nimport Web3 from 'web3';\nimport BigNumber from 'bignumber.js';\n\nimport { notify } from './txNotifier.ts';\nimport { UniswapV2Router02 } from '../constants/contracts';\n\nimport { QSD, DAI } from '../constants/tokens';\n\nconst uniswapRouterAbi = require('../constants/abi/UniswapV2Router02.json');\nconst testnetDAIAbi = require('../constants/abi/TestnetUSDC.json');\nconst daoAbi = require('../constants/abi/Implementation.json');\nconst poolAbi = require('../constants/abi/Pool.json');\nconst poolBondingAbi = require('../constants/abi/PoolBonding.json');\nconst poolLPAbi = require('../constants/abi/PoolLP.json');\n\nconst DEADLINE_FROM_NOW = 60 * 15;\nconst UINT256_MAX =\n  '0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff';\n\n/**\n * Connection Utilities\n */\n\nexport const updateModalMode = async (theme) => {\n  window.darkMode = theme === 'dark';\n};\n\nexport const connect = async (ethereum) => {\n  window.web3 = new Web3(ethereum);\n  let addresses = await window.web3.eth.getAccounts();\n  if (!addresses.length) {\n    try {\n      addresses = await window.ethereum.enable();\n    } catch (e) {\n      console.log(e);\n      return false;\n    }\n  }\n\n  return addresses.length ? addresses[0].toLowerCase() : null;\n};\n\n// eslint-disable-next-line consistent-return\nexport const checkConnectedAndGetAddress = async () => {\n  let addresses = await window.web3.eth.getAccounts();\n  if (!addresses.length) {\n    try {\n      addresses = await window.ethereum.enable();\n      // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n\n  return addresses[0];\n};\n\n/**\n * ERC20 Utilities\n */\n\nexport const approve = async (tokenAddr, spender, amt = UINT256_MAX) => {\n  const account = await checkConnectedAndGetAddress();\n  const oToken = new window.web3.eth.Contract(testnetDAIAbi, tokenAddr);\n  await oToken.methods\n    .approve(spender, amt)\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const mintTestnetDAI = async (amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const usdc = new window.web3.eth.Contract(testnetDAIAbi, DAI.addr);\n\n  await usdc.methods\n    .mint(account, new BigNumber(amount).toFixed())\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\n/**\n * Uniswap Protocol\n */\n\nexport const buyQSD = async (buyAmount, maxInputAmount) => {\n  const account = await checkConnectedAndGetAddress();\n  const router = new window.web3.eth.Contract(\n    uniswapRouterAbi,\n    UniswapV2Router02\n  );\n  const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW;\n\n  await router.methods\n    .swapTokensForExactTokens(\n      buyAmount,\n      maxInputAmount,\n      [DAI.addr, QSD.addr],\n      account,\n      deadline\n    )\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const sellQSD = async (sellAmount, minOutputAmount) => {\n  const account = await checkConnectedAndGetAddress();\n  const router = new window.web3.eth.Contract(\n    uniswapRouterAbi,\n    UniswapV2Router02\n  );\n  const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW;\n\n  await router.methods\n    .swapExactTokensForTokens(\n      sellAmount,\n      minOutputAmount,\n      [QSD.addr, DAI.addr],\n      account,\n      deadline\n    )\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const addLiquidity = async (amountQSD, amountDAI, slippage) => {\n  const account = await checkConnectedAndGetAddress();\n  const router = new window.web3.eth.Contract(\n    uniswapRouterAbi,\n    UniswapV2Router02\n  );\n  const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW;\n  const slippageBN = new BigNumber(slippage);\n  const minAmountQSD = new BigNumber(amountQSD)\n    .multipliedBy(new BigNumber(1).minus(slippageBN))\n    .integerValue(BigNumber.ROUND_FLOOR);\n  const minAmountDAI = new BigNumber(amountDAI)\n    .multipliedBy(new BigNumber(1).minus(slippageBN))\n    .integerValue(BigNumber.ROUND_FLOOR);\n\n  await router.methods\n    .addLiquidity(\n      QSD.addr,\n      DAI.addr,\n      new BigNumber(amountQSD).toFixed(),\n      new BigNumber(amountDAI).toFixed(),\n      minAmountQSD,\n      minAmountDAI,\n      account,\n      deadline\n    )\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const removeLiquidity = async (\n  liquidityAmount,\n  minAmountQSD,\n  minAmountDAI\n) => {\n  const account = await checkConnectedAndGetAddress();\n  const router = new window.web3.eth.Contract(\n    uniswapRouterAbi,\n    UniswapV2Router02\n  );\n  const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW;\n\n  await router.methods\n    .removeLiquidity(\n      QSD.addr,\n      DAI.addr,\n      new BigNumber(liquidityAmount).toFixed(),\n      new BigNumber(minAmountQSD).toFixed(),\n      new BigNumber(minAmountDAI).toFixed(),\n      account,\n      deadline\n    )\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\n/**\n * QSD Protocol\n */\n\nexport const advance = async (dao) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .advance()\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const deposit = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .deposit(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const withdraw = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .withdraw(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const bond = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .bond(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const unbond = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .unbond(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const unbondUnderlying = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .unbondUnderlying(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const purchaseCoupons = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .purchaseCoupons(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const redeemCoupons = async (dao, epoch, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .redeemCoupons(epoch, new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const migrateCoupons = async (dao, epoch) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .migrateCoupons(epoch)\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const recordVote = async (dao, candidate, voteType) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .vote(candidate, voteType)\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const commit = async (dao, candidate) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .commit(candidate)\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\n/* UNI-V2 Incentivization Pool */\nexport const depositPool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .deposit(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const withdrawPool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .withdraw(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const bondPool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .bond(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const unbondPool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .unbond(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const claimPool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .claim(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const providePool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .provide(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const providePoolOptimalOneSided = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolLPAbi, pool);\n  await poolContract.methods\n    .provideOneSided(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const pokeRewards = async (pool, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolBondingAbi, pool);\n  await poolContract.methods\n    .pokeRewards()\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      if (callback) {\n        callback(hash);\n      }\n    });\n};\n\nexport const claimRewards = async (pool, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolBondingAbi, pool);\n  await poolContract.methods\n    .claimAll()\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      if (callback) {\n        callback(hash);\n      }\n    });\n};\n"]},"metadata":{},"sourceType":"module"}