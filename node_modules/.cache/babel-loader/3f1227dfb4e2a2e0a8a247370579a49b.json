{"ast":null,"code":"import{Button,IconUpload}from'@aragon/ui';import React from'react';import{QSDS}from'../../constants/tokens';import{commit}from'../../utils/web3';import TextBlock from'../common/TextBlock';function Commit(_ref){var user=_ref.user,candidate=_ref.candidate,epoch=_ref.epoch,startEpoch=_ref.startEpoch,periodEpoch=_ref.periodEpoch,initialized=_ref.initialized,approved=_ref.approved;function status(epoch,startEpoch,periodEpoch,initialized,approved){if(startEpoch===0){return'N/A';}if(epoch<startEpoch){return'Unknown';}if(epoch<startEpoch+periodEpoch){return'Voting';}if(initialized){return'Committed';}if(approved){return'Approved';}return'Rejected';}var s=status(epoch,startEpoch,periodEpoch,initialized,approved);return/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',marginTop:24}},/*#__PURE__*/React.createElement(\"div\",{style:{width:'30%'}},/*#__PURE__*/React.createElement(TextBlock,{label:\"Status\",text:s})),/*#__PURE__*/React.createElement(\"div\",{style:{width:'40%'}}),/*#__PURE__*/React.createElement(\"div\",{style:{width:'30%',paddingTop:'2%'}},/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex'}},/*#__PURE__*/React.createElement(Button,{wide:true,icon:/*#__PURE__*/React.createElement(IconUpload,null),label:\"Commit\",onClick:function onClick(){commit(QSDS.addr,candidate);},disabled:user===''||s!=='Approved'}))));}export default Commit;","map":{"version":3,"sources":["/Users/J/crypto/dashboard/src/components/Candidate/Commit.tsx"],"names":["Button","IconUpload","React","QSDS","commit","TextBlock","Commit","user","candidate","epoch","startEpoch","periodEpoch","initialized","approved","status","s","display","marginTop","width","paddingTop","addr"],"mappings":"AAAA,OAASA,MAAT,CAAiBC,UAAjB,KAAmC,YAAnC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,wBAArB,CACA,OAASC,MAAT,KAAuB,kBAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,qBAAtB,CAYA,QAASC,CAAAA,MAAT,MAQgB,IAPdC,CAAAA,IAOc,MAPdA,IAOc,CANdC,SAMc,MANdA,SAMc,CALdC,KAKc,MALdA,KAKc,CAJdC,UAIc,MAJdA,UAIc,CAHdC,WAGc,MAHdA,WAGc,CAFdC,WAEc,MAFdA,WAEc,CADdC,QACc,MADdA,QACc,CACd,QAASC,CAAAA,MAAT,CACEL,KADF,CAEEC,UAFF,CAGEC,WAHF,CAIEC,WAJF,CAKEC,QALF,CAMU,CACR,GAAIH,UAAU,GAAK,CAAnB,CAAsB,CACpB,MAAO,KAAP,CACD,CACD,GAAID,KAAK,CAAGC,UAAZ,CAAwB,CACtB,MAAO,SAAP,CACD,CACD,GAAID,KAAK,CAAGC,UAAU,CAAGC,WAAzB,CAAsC,CACpC,MAAO,QAAP,CACD,CACD,GAAIC,WAAJ,CAAiB,CACf,MAAO,WAAP,CACD,CACD,GAAIC,QAAJ,CAAc,CACZ,MAAO,UAAP,CACD,CACD,MAAO,UAAP,CACD,CACD,GAAME,CAAAA,CAAC,CAAGD,MAAM,CAACL,KAAD,CAAQC,UAAR,CAAoBC,WAApB,CAAiCC,WAAjC,CAA8CC,QAA9C,CAAhB,CAEA,mBACE,2BAAK,KAAK,CAAE,CAAEG,OAAO,CAAE,MAAX,CAAmBC,SAAS,CAAE,EAA9B,CAAZ,eAEE,2BAAK,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAT,CAAZ,eACE,oBAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,CAA0B,IAAI,CAAEH,CAAhC,EADF,CAFF,cAKE,2BAAK,KAAK,CAAE,CAAEG,KAAK,CAAE,KAAT,CAAZ,EALF,cAOE,2BAAK,KAAK,CAAE,CAAEA,KAAK,CAAE,KAAT,CAAgBC,UAAU,CAAE,IAA5B,CAAZ,eACE,2BAAK,KAAK,CAAE,CAAEH,OAAO,CAAE,MAAX,CAAZ,eACE,oBAAC,MAAD,EACE,IAAI,KADN,CAEE,IAAI,cAAE,oBAAC,UAAD,MAFR,CAGE,KAAK,CAAC,QAHR,CAIE,OAAO,CAAE,kBAAM,CACbZ,MAAM,CAACD,IAAI,CAACiB,IAAN,CAAYZ,SAAZ,CAAN,CACD,CANH,CAOE,QAAQ,CAAED,IAAI,GAAK,EAAT,EAAeQ,CAAC,GAAK,UAPjC,EADF,CADF,CAPF,CADF,CAuBD,CAED,cAAeT,CAAAA,MAAf","sourcesContent":["import { Button, IconUpload } from '@aragon/ui';\nimport React from 'react';\nimport { QSDS } from '../../constants/tokens';\nimport { commit } from '../../utils/web3';\nimport TextBlock from '../common/TextBlock';\n\ntype CommitProps = {\n  user: string;\n  candidate: string;\n  epoch: number;\n  startEpoch: number;\n  periodEpoch: number;\n  initialized: boolean;\n  approved: boolean;\n};\n\nfunction Commit({\n  user,\n  candidate,\n  epoch,\n  startEpoch,\n  periodEpoch,\n  initialized,\n  approved,\n}: CommitProps) {\n  function status(\n    epoch,\n    startEpoch,\n    periodEpoch,\n    initialized,\n    approved\n  ): string {\n    if (startEpoch === 0) {\n      return 'N/A';\n    }\n    if (epoch < startEpoch) {\n      return 'Unknown';\n    }\n    if (epoch < startEpoch + periodEpoch) {\n      return 'Voting';\n    }\n    if (initialized) {\n      return 'Committed';\n    }\n    if (approved) {\n      return 'Approved';\n    }\n    return 'Rejected';\n  }\n  const s = status(epoch, startEpoch, periodEpoch, initialized, approved);\n\n  return (\n    <div style={{ display: 'flex', marginTop: 24 }}>\n      {/* Status */}\n      <div style={{ width: '30%' }}>\n        <TextBlock label='Status' text={s} />\n      </div>\n      <div style={{ width: '40%' }} />\n      {/* Commit candidate */}\n      <div style={{ width: '30%', paddingTop: '2%' }}>\n        <div style={{ display: 'flex' }}>\n          <Button\n            wide\n            icon={<IconUpload />}\n            label='Commit'\n            onClick={() => {\n              commit(QSDS.addr, candidate);\n            }}\n            disabled={user === '' || s !== 'Approved'}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Commit;\n"]},"metadata":{},"sourceType":"module"}