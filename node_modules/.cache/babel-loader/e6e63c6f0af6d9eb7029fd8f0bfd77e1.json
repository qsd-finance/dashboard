{"ast":null,"code":"import _regeneratorRuntime from\"/Users/J/crypto/dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/J/crypto/dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/J/crypto/dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{LinkBase,Box,Layout}from'@aragon/ui';import BigNumber from'bignumber.js';import{getTokenBalance}from'../../utils/infura';import{toTokenUnitsBN}from'../../utils/number';import TradePageHeader from'./Header';import{QSD,UNI,DAI}from\"../../constants/tokens\";import IconHeader from\"../common/IconHeader\";function UniswapPool(_ref){var user=_ref.user;var _useState=useState(new BigNumber(0)),_useState2=_slicedToArray(_useState,2),pairBalanceQSD=_useState2[0],setPairBalanceQSD=_useState2[1];var _useState3=useState(new BigNumber(0)),_useState4=_slicedToArray(_useState3,2),pairBalanceDAI=_useState4[0],setPairBalanceDAI=_useState4[1];useEffect(function(){var isCancelled=false;function updateUserInfo(){return _updateUserInfo.apply(this,arguments);}function _updateUserInfo(){_updateUserInfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$Promise$all,_yield$Promise$all2,pairBalanceQSDStr,pairBalanceDAIStr;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Promise.all([getTokenBalance(QSD.addr,UNI.addr),getTokenBalance(DAI.addr,UNI.addr)]);case 2:_yield$Promise$all=_context.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,2);pairBalanceQSDStr=_yield$Promise$all2[0];pairBalanceDAIStr=_yield$Promise$all2[1];if(!isCancelled){setPairBalanceQSD(toTokenUnitsBN(pairBalanceQSDStr,QSD.decimals));setPairBalanceDAI(toTokenUnitsBN(pairBalanceDAIStr,DAI.decimals));}case 7:case\"end\":return _context.stop();}}},_callee);}));return _updateUserInfo.apply(this,arguments);}updateUserInfo();var id=setInterval(updateUserInfo,15000);// eslint-disable-next-line consistent-return\nreturn function(){isCancelled=true;clearInterval(id);};},[user]);return/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(IconHeader,{icon:/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-exchange-alt\"}),text:\"Trade\"}),/*#__PURE__*/React.createElement(TradePageHeader,{pairBalanceQSD:pairBalanceQSD,pairBalanceDAI:pairBalanceDAI,uniswapPair:UNI.addr}),/*#__PURE__*/React.createElement(\"div\",{style:{padding:'1%',display:'flex',flexWrap:'wrap',alignItems:'center'}},/*#__PURE__*/React.createElement(\"div\",{style:{flexBasis:'30%',marginRight:'3%',marginLeft:'2%'}},/*#__PURE__*/React.createElement(MainButton,{title:\"Info\",description:\"View QSD-DAI pool stats.\",icon:/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-chart-area\"}),href:\"https://uniswap.info/pair/0x88ff79eb2bc5850f27315415da8685282c7610f9\"})),/*#__PURE__*/React.createElement(\"div\",{style:{flexBasis:'30%'}},/*#__PURE__*/React.createElement(MainButton,{title:\"Trade\",description:\"Trade QSD tokens.\",icon:/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-exchange-alt\"}),href:\"https://uniswap.exchange/swap?inputCurrency=0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48&outputCurrency=0x36f3fd68e7325a35eb768f1aedaae9ea0689d723\"})),/*#__PURE__*/React.createElement(\"div\",{style:{flexBasis:'30%',marginLeft:'3%',marginRight:'2%'}},/*#__PURE__*/React.createElement(MainButton,{title:\"Supply\",description:\"Supply and redeem liquidity.\",icon:/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-water\"}),href:\"https://uniswap.exchange/add/0x36f3fd68e7325a35eb768f1aedaae9ea0689d723/0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48\"}))));}function MainButton(_ref2){var title=_ref2.title,description=_ref2.description,icon=_ref2.icon,href=_ref2.href;return/*#__PURE__*/React.createElement(LinkBase,{href:href,style:{width:'100%'}},/*#__PURE__*/React.createElement(Box,null,/*#__PURE__*/React.createElement(\"div\",{style:{padding:10,fontSize:18}},title),/*#__PURE__*/React.createElement(\"span\",{style:{fontSize:48}},icon),/*#__PURE__*/React.createElement(\"div\",{style:{paddingTop:5,opacity:0.5}},' ',description,' ')));}export default UniswapPool;","map":{"version":3,"sources":["/Users/J/crypto/dashboard/src/components/Trade/index.tsx"],"names":["React","useState","useEffect","LinkBase","Box","Layout","BigNumber","getTokenBalance","toTokenUnitsBN","TradePageHeader","QSD","UNI","DAI","IconHeader","UniswapPool","user","pairBalanceQSD","setPairBalanceQSD","pairBalanceDAI","setPairBalanceDAI","isCancelled","updateUserInfo","Promise","all","addr","pairBalanceQSDStr","pairBalanceDAIStr","decimals","id","setInterval","clearInterval","padding","display","flexWrap","alignItems","flexBasis","marginRight","marginLeft","MainButton","title","description","icon","href","width","fontSize","paddingTop","opacity"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { LinkBase, Box, Layout } from '@aragon/ui';\n\nimport BigNumber from 'bignumber.js';\nimport { getTokenBalance } from '../../utils/infura';\nimport { toTokenUnitsBN } from '../../utils/number';\n\nimport TradePageHeader from './Header';\nimport {QSD, UNI, DAI} from \"../../constants/tokens\";\nimport IconHeader from \"../common/IconHeader\";\n\n\nfunction UniswapPool({ user }: {user: string}) {\n  const [pairBalanceQSD, setPairBalanceQSD] = useState(new BigNumber(0));\n  const [pairBalanceDAI, setPairBalanceDAI] = useState(new BigNumber(0));\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [\n        pairBalanceQSDStr, pairBalanceDAIStr,\n      ] = await Promise.all([\n        getTokenBalance(QSD.addr, UNI.addr),\n        getTokenBalance(DAI.addr, UNI.addr),\n      ]);\n\n      if (!isCancelled) {\n        setPairBalanceQSD(toTokenUnitsBN(pairBalanceQSDStr, QSD.decimals));\n        setPairBalanceDAI(toTokenUnitsBN(pairBalanceDAIStr, DAI.decimals));\n      }\n    }\n\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <Layout>\n      <IconHeader icon={<i className=\"fas fa-exchange-alt\"/>} text=\"Trade\"/>\n\n      <TradePageHeader\n        pairBalanceQSD={pairBalanceQSD}\n        pairBalanceDAI={pairBalanceDAI}\n        uniswapPair={UNI.addr}\n      />\n\n      <div style={{ padding: '1%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n        <div style={{ flexBasis: '30%', marginRight: '3%', marginLeft: '2%'  }}>\n          <MainButton\n            title=\"Info\"\n            description=\"View QSD-DAI pool stats.\"\n            icon={<i className=\"fas fa-chart-area\"/>}\n            href={\"https://uniswap.info/pair/0x88ff79eb2bc5850f27315415da8685282c7610f9\"}\n          />\n        </div>\n\n        <div style={{ flexBasis: '30%' }}>\n          <MainButton\n            title=\"Trade\"\n            description=\"Trade QSD tokens.\"\n            icon={<i className=\"fas fa-exchange-alt\"/>}\n            href={\"https://uniswap.exchange/swap?inputCurrency=0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48&outputCurrency=0x36f3fd68e7325a35eb768f1aedaae9ea0689d723\"}\n          />\n        </div>\n\n        <div style={{ flexBasis: '30%', marginLeft: '3%', marginRight: '2%' }}>\n          <MainButton\n            title=\"Supply\"\n            description=\"Supply and redeem liquidity.\"\n            icon={<i className=\"fas fa-water\"/>}\n            href={\"https://uniswap.exchange/add/0x36f3fd68e7325a35eb768f1aedaae9ea0689d723/0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48\"}\n          />\n        </div>\n      </div>\n    </Layout>\n  );\n}\n\ntype MainButtonProps = {\n  title: string,\n  description: string,\n  icon: any,\n  href:string\n}\n\nfunction MainButton({\n  title, description, icon, href,\n}:MainButtonProps) {\n  return (\n    <LinkBase href={href} style={{ width: '100%' }}>\n      <Box>\n        <div style={{ padding: 10, fontSize: 18 }}>\n          {title}\n        </div>\n        <span style={{ fontSize: 48 }}>\n          {icon}\n        </span>\n        {/*<img alt=\"icon\" style={{ padding: 10, height: 64 }} src={iconUrl} />*/}\n        <div style={{ paddingTop: 5, opacity: 0.5 }}>\n          {' '}\n          {description}\n          {' '}\n        </div>\n\n      </Box>\n    </LinkBase>\n  );\n}\n\nexport default UniswapPool;\n"]},"metadata":{},"sourceType":"module"}