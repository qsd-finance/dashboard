{"ast":null,"code":"var _jsxFileName = \"/Users/J/crypto/dashboard/src/components/Candidate/Commit.tsx\";\nimport { Button, IconUpload } from '@aragon/ui';\nimport React from 'react';\nimport { QSDS } from '../../constants/tokens';\nimport { commit } from '../../utils/web3';\nimport TextBlock from '../common/TextBlock';\n\nfunction Commit({\n  user,\n  candidate,\n  epoch,\n  startEpoch,\n  periodEpoch,\n  initialized,\n  approved\n}) {\n  function status(epoch, startEpoch, periodEpoch, initialized, approved) {\n    if (startEpoch === 0) {\n      return 'N/A';\n    }\n\n    if (epoch < startEpoch) {\n      return 'Unknown';\n    }\n\n    if (epoch < startEpoch + periodEpoch) {\n      return 'Voting';\n    }\n\n    if (initialized) {\n      return 'Committed';\n    }\n\n    if (approved) {\n      return 'Approved';\n    }\n\n    return 'Rejected';\n  }\n\n  const s = status(epoch, startEpoch, periodEpoch, initialized, approved);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      marginTop: 24\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '30%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TextBlock, {\n    label: \"Status\",\n    text: s,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '40%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '30%',\n      paddingTop: '2%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    wide: true,\n    icon: /*#__PURE__*/React.createElement(IconUpload, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 19\n      }\n    }),\n    label: \"Commit\",\n    onClick: () => {\n      commit(QSDS.addr, candidate);\n    },\n    disabled: user === '' || s !== 'Approved',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport default Commit;","map":{"version":3,"sources":["/Users/J/crypto/dashboard/src/components/Candidate/Commit.tsx"],"names":["Button","IconUpload","React","QSDS","commit","TextBlock","Commit","user","candidate","epoch","startEpoch","periodEpoch","initialized","approved","status","s","display","marginTop","width","paddingTop","addr"],"mappings":";AAAA,SAASA,MAAT,EAAiBC,UAAjB,QAAmC,YAAnC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,wBAArB;AACA,SAASC,MAAT,QAAuB,kBAAvB;AACA,OAAOC,SAAP,MAAsB,qBAAtB;;AAYA,SAASC,MAAT,CAAgB;AACdC,EAAAA,IADc;AAEdC,EAAAA,SAFc;AAGdC,EAAAA,KAHc;AAIdC,EAAAA,UAJc;AAKdC,EAAAA,WALc;AAMdC,EAAAA,WANc;AAOdC,EAAAA;AAPc,CAAhB,EAQgB;AACd,WAASC,MAAT,CACEL,KADF,EAEEC,UAFF,EAGEC,WAHF,EAIEC,WAJF,EAKEC,QALF,EAMU;AACR,QAAIH,UAAU,KAAK,CAAnB,EAAsB;AACpB,aAAO,KAAP;AACD;;AACD,QAAID,KAAK,GAAGC,UAAZ,EAAwB;AACtB,aAAO,SAAP;AACD;;AACD,QAAID,KAAK,GAAGC,UAAU,GAAGC,WAAzB,EAAsC;AACpC,aAAO,QAAP;AACD;;AACD,QAAIC,WAAJ,EAAiB;AACf,aAAO,WAAP;AACD;;AACD,QAAIC,QAAJ,EAAc;AACZ,aAAO,UAAP;AACD;;AACD,WAAO,UAAP;AACD;;AACD,QAAME,CAAC,GAAGD,MAAM,CAACL,KAAD,EAAQC,UAAR,EAAoBC,WAApB,EAAiCC,WAAjC,EAA8CC,QAA9C,CAAhB;AAEA,sBACE;AAAK,IAAA,KAAK,EAAE;AAAEG,MAAAA,OAAO,EAAE,MAAX;AAAmBC,MAAAA,SAAS,EAAE;AAA9B,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAA0B,IAAA,IAAI,EAAEH,CAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,eAKE;AAAK,IAAA,KAAK,EAAE;AAAEG,MAAAA,KAAK,EAAE;AAAT,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,eAOE;AAAK,IAAA,KAAK,EAAE;AAAEA,MAAAA,KAAK,EAAE,KAAT;AAAgBC,MAAAA,UAAU,EAAE;AAA5B,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,KAAK,EAAE;AAAEH,MAAAA,OAAO,EAAE;AAAX,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,IAAI,MADN;AAEE,IAAA,IAAI,eAAE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFR;AAGE,IAAA,KAAK,EAAC,QAHR;AAIE,IAAA,OAAO,EAAE,MAAM;AACbZ,MAAAA,MAAM,CAACD,IAAI,CAACiB,IAAN,EAAYZ,SAAZ,CAAN;AACD,KANH;AAOE,IAAA,QAAQ,EAAED,IAAI,KAAK,EAAT,IAAeQ,CAAC,KAAK,UAPjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CAPF,CADF;AAuBD;;AAED,eAAeT,MAAf","sourcesContent":["import { Button, IconUpload } from '@aragon/ui';\nimport React from 'react';\nimport { QSDS } from '../../constants/tokens';\nimport { commit } from '../../utils/web3';\nimport TextBlock from '../common/TextBlock';\n\ntype CommitProps = {\n  user: string;\n  candidate: string;\n  epoch: number;\n  startEpoch: number;\n  periodEpoch: number;\n  initialized: boolean;\n  approved: boolean;\n};\n\nfunction Commit({\n  user,\n  candidate,\n  epoch,\n  startEpoch,\n  periodEpoch,\n  initialized,\n  approved,\n}: CommitProps) {\n  function status(\n    epoch,\n    startEpoch,\n    periodEpoch,\n    initialized,\n    approved\n  ): string {\n    if (startEpoch === 0) {\n      return 'N/A';\n    }\n    if (epoch < startEpoch) {\n      return 'Unknown';\n    }\n    if (epoch < startEpoch + periodEpoch) {\n      return 'Voting';\n    }\n    if (initialized) {\n      return 'Committed';\n    }\n    if (approved) {\n      return 'Approved';\n    }\n    return 'Rejected';\n  }\n  const s = status(epoch, startEpoch, periodEpoch, initialized, approved);\n\n  return (\n    <div style={{ display: 'flex', marginTop: 24 }}>\n      {/* Status */}\n      <div style={{ width: '30%' }}>\n        <TextBlock label='Status' text={s} />\n      </div>\n      <div style={{ width: '40%' }} />\n      {/* Commit candidate */}\n      <div style={{ width: '30%', paddingTop: '2%' }}>\n        <div style={{ display: 'flex' }}>\n          <Button\n            wide\n            icon={<IconUpload />}\n            label='Commit'\n            onClick={() => {\n              commit(QSDS.addr, candidate);\n            }}\n            disabled={user === '' || s !== 'Approved'}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Commit;\n"]},"metadata":{},"sourceType":"module"}