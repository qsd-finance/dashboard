{"ast":null,"code":"import './slicedToArray-4e274c67.js';\nimport './unsupportedIterableToArray-137e449b.js';\nimport React from 'react';\nimport './_commonjsHelpers-97e6d7b1.js';\nimport { P as PropTypes } from './index-097535f1.js';\nimport { _ as _defineProperty } from './defineProperty-a0480c32.js';\nimport './toConsumableArray-127424c2.js';\nimport { _ as _inherits, a as _createClass, b as _classCallCheck, e as _assertThisInitialized, c as _getPrototypeOf, d as _possibleConstructorReturn } from './getPrototypeOf-b96da1e1.js';\nimport './color.js';\nimport './components.js';\nimport './contains-component.js';\nimport './css.js';\nimport './dayjs.min-e57fb69a.js';\nimport './date.js';\nimport { noop } from './miscellaneous.js';\nimport './environment.js';\nimport './font.js';\nimport './math-e6d0e93a.js';\nimport './characters.js';\nimport './format.js';\nimport { KEY_ESC } from './keycodes.js';\nimport './url.js';\nimport './web3.js';\nimport { _ as _extends } from './extends-db4f0c26.js';\nimport { _ as _objectWithoutProperties } from './objectWithoutProperties-234758e1.js';\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar EscapeOutside = /*#__PURE__*/function (_React$Component) {\n  _inherits(EscapeOutside, _React$Component);\n\n  var _super = _createSuper(EscapeOutside);\n\n  function EscapeOutside() {\n    var _this;\n\n    _classCallCheck(this, EscapeOutside);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"_element\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"_document\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (e) {\n      var onEscapeOutside = _this.props.onEscapeOutside;\n\n      if (!_this._element.contains(e.target)) {\n        onEscapeOutside();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleEscape\", function (e) {\n      var onEscapeOutside = _this.props.onEscapeOutside;\n\n      if (e.keyCode === KEY_ESC) {\n        onEscapeOutside();\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(EscapeOutside, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._document = this._element.ownerDocument;\n\n      this._document.addEventListener('keydown', this.handleEscape);\n\n      this._document.addEventListener('click', this.handleClick);\n\n      this._document.addEventListener('touchend', this.handleClick);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._document.removeEventListener('keydown', this.handleEscape);\n\n      this._document.removeEventListener('click', this.handleClick);\n\n      this._document.removeEventListener('touchend', this.handleClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          children = _this$props.children,\n          onEscapeOutside = _this$props.onEscapeOutside,\n          rest = _objectWithoutProperties(_this$props, [\"children\", \"onEscapeOutside\"]);\n\n      return /*#__PURE__*/React.createElement(\"div\", _extends({}, rest, {\n        ref: function ref(n) {\n          return _this2._element = n;\n        }\n      }), children);\n    }\n  }]);\n\n  return EscapeOutside;\n}(React.Component);\n\n_defineProperty(EscapeOutside, \"propTypes\", {\n  children: PropTypes.node.isRequired,\n  onEscapeOutside: PropTypes.func.isRequired\n});\n\n_defineProperty(EscapeOutside, \"defaultProps\", {\n  onEscapeOutside: noop\n});\n\nexport default EscapeOutside;","map":{"version":3,"sources":["../../src/components/EscapeOutside/EscapeOutside.js"],"names":["EscapeOutside","React","Component","children","PropTypes","onEscapeOutside","isRequired","noop","e","rest"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAIMA,aAAAA,GAAAA,aAAAA,UAAAA,gBAAAA,EAAAA;;;;;;;;;;;;;;;;+DAUOC,KAAK,CAALA,SAAAA,E;;gEACC,I;;kEAeE,UAAA,CAAA,EAAK;AAAA,UACTI,eADS,GACW,KAAA,CADX,KACW,CADX,eAAA;;AAEjB,UAAI,CAAC,KAAA,CAAA,QAAA,CAAA,QAAA,CAAuBG,CAAC,CAA7B,MAAK,CAAL,EAAuC;AACrCH,QAAAA,eAAe;AAChB;AACF,K;;mEAEc,UAAA,CAAA,EAAK;AAAA,UACVA,eADU,GACU,KAAA,CADV,KACU,CADV,eAAA;;AAElB,UAAIG,CAAC,CAADA,OAAAA,KAAJ,OAAA,EAA2B;AACzBH,QAAAA,eAAe;AAChB;AACF,K;;;;;;;wCAzBmB;AAClB,WAAA,SAAA,GAAiB,KAAA,QAAA,CAAjB,aAAA;;AACA,WAAA,SAAA,CAAA,gBAAA,CAAA,SAAA,EAA2C,KAA3C,YAAA;;AACA,WAAA,SAAA,CAAA,gBAAA,CAAA,OAAA,EAAyC,KAAzC,WAAA;;AACA,WAAA,SAAA,CAAA,gBAAA,CAAA,UAAA,EAA4C,KAA5C,WAAA;AACD;;;2CAEsB;AACrB,WAAA,SAAA,CAAA,mBAAA,CAAA,SAAA,EAA8C,KAA9C,YAAA;;AACA,WAAA,SAAA,CAAA,mBAAA,CAAA,OAAA,EAA4C,KAA5C,WAAA;;AACA,WAAA,SAAA,CAAA,mBAAA,CAAA,UAAA,EAA+C,KAA/C,WAAA;AACD;;;6BAgBQ;AAAA,UAAA,MAAA,GAAA,IAAA;;AAAA,UAAA,WAAA,GACwC,KADxC,KAAA;AAAA,UACCF,QADD,GAAA,WAAA,CAAA,QAAA;AAAA,UACWE,eADX,GAAA,WAAA,CAAA,eAAA;AAAA,UAC+BI,IAD/B,GAAA,wBAAA,CAAA,WAAA,EAAA,CAAA,UAAA,EAAA,iBAAA,CAAA,CAAA;;AAGP,aAAA,aACE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA,QAAA,CAAA,EAAA,EAAA,IAAA,EAAA;AAAe,QAAA,GAAG,EAAE,SAAA,GAAA,CAAA,CAAA,EAAC;AAAA,iBAAK,MAAI,CAAJ,QAAA,GAAL,CAAA;AAAA;AAArB,OAAA,CAAA,EADF,QACE,CADF;AAKD;;;;CAhDGT,CAAsBC,KAAK,CAACC,SAA5BF,C;;gBAAAA,a,EAAAA,W,EACe;AACjBG,EAAAA,QAAQ,EAAEC,SAAS,CAATA,IAAAA,CADO,UAAA;AAEjBC,EAAAA,eAAe,EAAED,SAAS,CAATA,IAAAA,CAAeE;AAFf,C;;gBADfN,a,EAAAA,c,EAMkB;AACpBK,EAAAA,eAAe,EAAEE;AADG,C","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport { noop, KEY_ESC } from '../../utils'\n\nclass EscapeOutside extends React.Component {\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n    onEscapeOutside: PropTypes.func.isRequired,\n  }\n\n  static defaultProps = {\n    onEscapeOutside: noop,\n  }\n\n  _element = React.createRef()\n  _document = null\n\n  componentDidMount() {\n    this._document = this._element.ownerDocument\n    this._document.addEventListener('keydown', this.handleEscape)\n    this._document.addEventListener('click', this.handleClick)\n    this._document.addEventListener('touchend', this.handleClick)\n  }\n\n  componentWillUnmount() {\n    this._document.removeEventListener('keydown', this.handleEscape)\n    this._document.removeEventListener('click', this.handleClick)\n    this._document.removeEventListener('touchend', this.handleClick)\n  }\n\n  handleClick = e => {\n    const { onEscapeOutside } = this.props\n    if (!this._element.contains(e.target)) {\n      onEscapeOutside()\n    }\n  }\n\n  handleEscape = e => {\n    const { onEscapeOutside } = this.props\n    if (e.keyCode === KEY_ESC) {\n      onEscapeOutside()\n    }\n  }\n\n  render() {\n    const { children, onEscapeOutside, ...rest } = this.props\n\n    return (\n      <div {...rest} ref={n => (this._element = n)}>\n        {children}\n      </div>\n    )\n  }\n}\n\nexport default EscapeOutside\n"]},"metadata":{},"sourceType":"module"}