{"ast":null,"code":"import { _ as _slicedToArray } from './slicedToArray-4e274c67.js';\nimport './unsupportedIterableToArray-137e449b.js';\nimport React, { useCallback, useState, useRef, useEffect } from 'react';\nimport './_commonjsHelpers-97e6d7b1.js';\nimport { P as PropTypes } from './index-097535f1.js';\nimport './defineProperty-a0480c32.js';\nimport './toConsumableArray-127424c2.js';\nimport _styled from 'styled-components';\nimport './getPrototypeOf-b96da1e1.js';\nimport './color.js';\nimport './components.js';\nimport './contains-component.js';\nimport { unselectable } from './css.js';\nimport './dayjs.min-e57fb69a.js';\nimport './date.js';\nimport { noop, identity } from './miscellaneous.js';\nimport './environment.js';\nimport './font.js';\nimport './math-e6d0e93a.js';\nimport './characters.js';\nimport './format.js';\nimport { KEY_ESC } from './keycodes.js';\nimport './url.js';\nimport './web3.js';\nimport './constants.js';\nimport './breakpoints.js';\nimport { springs } from './springs.js';\nimport './text-styles.js';\nimport './theme-dark.js';\nimport './theme-light.js';\nimport { useTheme } from './Theme.js';\nimport { _ as _extends } from './extends-db4f0c26.js';\nimport './objectWithoutProperties-234758e1.js';\nimport './index-422d37c0.js';\nimport './isObject-3c6ec07e.js';\nimport './Viewport-cc7debfb.js';\nimport './Layout.js';\nimport './FocusVisible.js';\nimport ButtonBase from './ButtonBase.js';\nimport './IconPropTypes-aab7337d.js';\nimport './IconAddUser.js';\nimport './IconAlert.js';\nimport './IconAlignCenter.js';\nimport './IconAlignJustify.js';\nimport './IconAlignLeft.js';\nimport './IconAlignRight.js';\nimport './IconAragon.js';\nimport './IconArrowDown.js';\nimport './IconArrowLeft.js';\nimport './IconArrowRight.js';\nimport './IconArrowUp.js';\nimport './IconAtSign.js';\nimport './IconBlock.js';\nimport './IconBookmark.js';\nimport './IconCalendar.js';\nimport './IconCanvas.js';\nimport './IconCaution.js';\nimport './IconCenter.js';\nimport './IconChart.js';\nimport './IconChat.js';\nimport './IconCheck.js';\nimport './IconChip.js';\nimport './IconCircleCheck.js';\nimport './IconCircleMinus.js';\nimport './IconCirclePlus.js';\nimport './IconClock.js';\nimport './IconCloudDownload.js';\nimport './IconCloudUpload.js';\nimport './IconCoin.js';\nimport './IconConfiguration.js';\nimport './IconConnect.js';\nimport './IconConnection.js';\nimport './IconConsole.js';\nimport './IconCopy.js';\nimport './IconCross.js';\nimport './IconDashedSquare.js';\nimport './IconDown.js';\nimport './IconDownload.js';\nimport './IconEdit.js';\nimport './IconEllipsis.js';\nimport './IconEnter.js';\nimport './IconEthereum.js';\nimport './IconExternal.js';\nimport './IconFile.js';\nimport './IconFilter.js';\nimport './IconFlag.js';\nimport './IconFolder.js';\nimport './IconGraph2.js';\nimport './IconGraph.js';\nimport './IconGrid.js';\nimport './IconGroup.js';\nimport './IconHash.js';\nimport './IconHeart.js';\nimport './IconHide.js';\nimport './IconHome.js';\nimport './IconImage.js';\nimport './IconInfo.js';\nimport './IconLabel.js';\nimport './IconLayers.js';\nimport './IconLeft.js';\nimport './IconLink.js';\nimport './IconLocation.js';\nimport './IconLock.js';\nimport './IconMail.js';\nimport './IconMaximize.js';\nimport './IconMenu.js';\nimport './IconMinimize.js';\nimport './IconMinus.js';\nimport './IconMove.js';\nimport './IconNoPicture.js';\nimport './IconPicture.js';\nimport './IconPlus.js';\nimport './IconPower.js';\nimport './IconPrint.js';\nimport './IconProhibited.js';\nimport './IconQuestion.js';\nimport './IconRefresh.js';\nimport './IconRemoveUser.js';\nimport './IconRight.js';\nimport './IconRotateLeft.js';\nimport './IconRotateRight.js';\nimport './IconSearch.js';\nimport './IconSettings.js';\nimport './IconShare.js';\nimport './IconSquareMinus.js';\nimport './IconSquarePlus.js';\nimport './IconSquare.js';\nimport './IconStarFilled.js';\nimport './IconStar.js';\nimport './IconSwap.js';\nimport './IconTarget.js';\nimport './IconToken.js';\nimport './IconTrash.js';\nimport './IconUnlock.js';\nimport './IconUp.js';\nimport './IconUpload.js';\nimport './IconUser.js';\nimport './IconView.js';\nimport './IconVote.js';\nimport './IconWallet.js';\nimport './IconWarning.js';\nimport './IconWorld.js';\nimport './IconWrite.js';\nimport './IconZoomIn.js';\nimport './IconZoomOut.js';\nimport './objectWithoutPropertiesLoose-9606ad13.js';\nimport 'react-dom';\nimport { e as extendedAnimated, T as Transition } from './web-a351a0a1.js';\nimport './Button.js';\nimport './ButtonIcon.js';\nimport './TextInput.js';\nimport { useArrowKeysFocus } from './useArrowKeysFocus.js';\nimport { useClickOutside } from './useClickOutside.js';\nimport './useFocusEnter.js';\nimport { useFocusLeave } from './useFocusLeave.js';\nimport './useImageExists.js';\nimport { useKeyDown } from './useKeyDown.js';\nimport './useOnBlur.js';\nimport SearchInput from './SearchInput.js';\n\nvar _StyledDiv = _styled(\"div\").withConfig({\n  displayName: \"AutoComplete___StyledDiv\",\n  componentId: \"bpnxyo-0\"\n})([\"position:relative\"]);\n\nfunction AutoComplete(_ref) {\n  var forwardedRef = _ref.forwardedRef,\n      _ref$itemButtonStyles = _ref.itemButtonStyles,\n      itemButtonStyles = _ref$itemButtonStyles === void 0 ? '' : _ref$itemButtonStyles,\n      _ref$items = _ref.items,\n      items = _ref$items === void 0 ? [] : _ref$items,\n      _ref$onSelect = _ref.onSelect,\n      onSelect = _ref$onSelect === void 0 ? noop : _ref$onSelect,\n      _ref$onChange = _ref.onChange,\n      onChange = _ref$onChange === void 0 ? noop : _ref$onChange,\n      placeholder = _ref.placeholder,\n      _ref$renderItem = _ref.renderItem,\n      renderItem = _ref$renderItem === void 0 ? identity : _ref$renderItem,\n      required = _ref.required,\n      value = _ref.value,\n      wide = _ref.wide;\n  var ref = forwardedRef;\n  var uniqueItems = new Set(items);\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      opened = _useState2[0],\n      setOpened = _useState2[1];\n\n  var wrapRef = useRef();\n  var refs = useRef([]);\n  var handleClose = useCallback(function () {\n    return setOpened(false);\n  }, []);\n  var handleFocus = useCallback(function () {\n    return setOpened(true);\n  }, []);\n  var handleSelect = useCallback(function (item) {\n    onSelect(item);\n    setOpened(false);\n  }, [onSelect]);\n  var handleInputChange = useCallback(function () {\n    setOpened(true);\n    onChange.apply(void 0, arguments);\n  }, [onChange]);\n\n  var _useFocusLeave = useFocusLeave(handleClose, wrapRef),\n      handleFocusLeave = _useFocusLeave.handleFocusLeave;\n\n  var _useArrowKeysFocus = useArrowKeysFocus(refs),\n      highlightedIndex = _useArrowKeysFocus.highlightedIndex,\n      setHighlightedIndex = _useArrowKeysFocus.setHighlightedIndex;\n\n  useClickOutside(handleClose, wrapRef);\n  useKeyDown(KEY_ESC, handleClose);\n  useEffect(function () {\n    setHighlightedIndex(-1);\n  }, [opened, items, value, setHighlightedIndex]);\n  return /*#__PURE__*/React.createElement(_StyledDiv, {\n    ref: wrapRef,\n    onBlur: handleFocusLeave\n  }, /*#__PURE__*/React.createElement(SearchInput, {\n    ref: ref,\n    wide: wide,\n    placeholder: placeholder,\n    required: required,\n    onChange: handleInputChange,\n    onFocus: handleFocus,\n    value: value\n  }), /*#__PURE__*/React.createElement(Transition, {\n    config: springs.swift,\n    items: opened && items.length > 0,\n    from: {\n      scale: 0.98,\n      opacity: 0\n    },\n    enter: {\n      scale: 1,\n      opacity: 1\n    },\n    leave: {\n      scale: 1,\n      opacity: 0\n    },\n    native: true\n  }, function (show) {\n    return show &&\n    /* eslint-disable react/prop-types */\n    function (_ref2) {\n      var scale = _ref2.scale,\n          opacity = _ref2.opacity;\n      return /*#__PURE__*/React.createElement(Items, {\n        style: {\n          opacity: opacity,\n          transform: scale.interpolate(function (t) {\n            return \"scale3d(\".concat(t, \",\").concat(t, \",1)\");\n          })\n        }\n      }, Array.from(uniqueItems).map(function (item, index) {\n        return /*#__PURE__*/React.createElement(Item, {\n          key: item.key || item,\n          ref: function ref(node) {\n            return refs.current[index] = node;\n          },\n          index: index,\n          item: item,\n          itemButtonStyles: itemButtonStyles,\n          onHighlight: setHighlightedIndex,\n          onSelect: handleSelect,\n          selected: index === highlightedIndex\n        }, renderItem(item, value));\n      }));\n    };\n  }\n  /* eslint-enable react/prop-types */\n  ));\n}\n\nAutoComplete.propTypes = {\n  forwardedRef: PropTypes.object,\n  itemButtonStyles: PropTypes.string,\n  items: PropTypes.array.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n  renderItem: PropTypes.func,\n  required: PropTypes.bool,\n  value: PropTypes.string,\n  wide: PropTypes.bool\n};\n/* eslint-disable react/prop-types */\n\nvar _StyledLi = _styled(\"li\").withConfig({\n  displayName: \"AutoComplete___StyledLi\",\n  componentId: \"bpnxyo-1\"\n})([\"overflow:hidden;cursor:pointer;\", \";\"], function (p) {\n  return p._css;\n});\n\nvar _StyledButtonBase = _styled(ButtonBase).withConfig({\n  displayName: \"AutoComplete___StyledButtonBase\",\n  componentId: \"bpnxyo-2\"\n})([\"text-align:left;padding:4px 8px;width:100%;border-radius:0;border-left:3px solid transparent;cursor:pointer;\", \";\", \";\"], function (p) {\n  return p._css2;\n}, function (p) {\n  return p._css3;\n});\n\nvar Item = React.forwardRef(function Item(_ref3, ref) {\n  var children = _ref3.children,\n      index = _ref3.index,\n      item = _ref3.item,\n      itemButtonStyles = _ref3.itemButtonStyles,\n      onHighlight = _ref3.onHighlight,\n      onSelect = _ref3.onSelect,\n      selected = _ref3.selected;\n  var theme = useTheme();\n  var handleClick = useCallback(function (event) {\n    event.preventDefault();\n    onSelect(item);\n  }, [item, onSelect]);\n  var handleFocusOrMouseOver = useCallback(function () {\n    onHighlight(index);\n  }, [index, onHighlight]);\n  return /*#__PURE__*/React.createElement(_StyledLi, {\n    role: \"option\",\n    _css: unselectable()\n  }, /*#__PURE__*/React.createElement(_StyledButtonBase, {\n    ref: ref,\n    onClick: handleClick,\n    onFocus: handleFocusOrMouseOver,\n    onMouseOver: handleFocusOrMouseOver,\n    _css2: selected ? \"\\n                outline: 2px solid \".concat(theme.accent, \";\\n                background: \").concat(theme.surfaceHighlight, \";\\n                border-left: 3px solid \").concat(theme.accent, \";\\n              \") : '',\n    _css3: itemButtonStyles\n  }, children));\n});\n/* eslint-enable react/prop-types */\n\n/* eslint-disable react/prop-types */\n\nvar _StyledAnimatedUl = _styled(extendedAnimated.ul).withConfig({\n  displayName: \"AutoComplete___StyledAnimatedUl\",\n  componentId: \"bpnxyo-3\"\n})([\"position:absolute;z-index:2;top:100%;width:100%;padding:8px 0;color:\", \";background:\", \";border:1px solid \", \";box-shadow:0 4px 4px 0 rgba(0,0,0,0.06);border-radius:3px;padding:0;margin:0;list-style:none;& > li:first-child{border-top-left-radius:3px;border-top-right-radius:3px;}& > li:last-child{border-bottom-left-radius:3px;border-bottom-right-radius:3px;}\"], function (p) {\n  return p._css4;\n}, function (p) {\n  return p._css5;\n}, function (p) {\n  return p._css6;\n});\n\nvar Items = function Items(props) {\n  var theme = useTheme();\n  return /*#__PURE__*/React.createElement(_StyledAnimatedUl, _extends({\n    role: \"listbox\"\n  }, props, {\n    _css4: theme.surfaceContent,\n    _css5: theme.surface,\n    _css6: theme.border\n  }));\n};\n/* eslint-enable react/prop-types */\n\n\nvar AutoCompleteMemo = React.memo(AutoComplete);\nvar AutoComplete$1 = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(AutoCompleteMemo, _extends({}, props, {\n    forwardedRef: ref\n  }));\n});\nexport default AutoComplete$1;","map":{"version":3,"sources":["../../src/components/AutoComplete/AutoComplete.js"],"names":["forwardedRef","itemButtonStyles","items","onSelect","noop","onChange","placeholder","renderItem","identity","required","value","wide","ref","uniqueItems","opened","setOpened","useState","wrapRef","useRef","refs","handleClose","useCallback","handleFocus","handleSelect","handleInputChange","handleFocusLeave","useFocusLeave","highlightedIndex","setHighlightedIndex","useArrowKeysFocus","useClickOutside","useKeyDown","useEffect","springs","scale","opacity","show","transform","item","index","AutoComplete","PropTypes","bool","Item","children","onHighlight","selected","theme","useTheme","handleClick","event","handleFocusOrMouseOver","unselectable","Items","border","AutoCompleteMemo","React"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { Transition, animated } from 'react-spring'\nimport {\n  useArrowKeysFocus,\n  useClickOutside,\n  useKeyDown,\n  useFocusLeave,\n} from '../../hooks'\nimport { springs } from '../../style'\nimport { useTheme } from '../../theme'\nimport { unselectable, noop, identity, KEY_ESC } from '../../utils'\nimport ButtonBase from '../ButtonBase/ButtonBase'\nimport SearchInput from '../Input/SearchInput'\n\nfunction AutoComplete({\n  forwardedRef,\n  itemButtonStyles = '',\n  items = [],\n  onSelect = noop,\n  onChange = noop,\n  placeholder,\n  renderItem = identity,\n  required,\n  value,\n  wide,\n}) {\n  const ref = forwardedRef\n  const uniqueItems = new Set(items)\n  const [opened, setOpened] = useState(true)\n  const wrapRef = useRef()\n  const refs = useRef([])\n\n  const handleClose = useCallback(() => setOpened(false), [])\n  const handleFocus = useCallback(() => setOpened(true), [])\n\n  const handleSelect = useCallback(\n    item => {\n      onSelect(item)\n      setOpened(false)\n    },\n    [onSelect]\n  )\n\n  const handleInputChange = useCallback(\n    (...params) => {\n      setOpened(true)\n      onChange(...params)\n    },\n    [onChange]\n  )\n\n  const { handleFocusLeave } = useFocusLeave(handleClose, wrapRef)\n  const { highlightedIndex, setHighlightedIndex } = useArrowKeysFocus(refs)\n\n  useClickOutside(handleClose, wrapRef)\n  useKeyDown(KEY_ESC, handleClose)\n\n  useEffect(() => {\n    setHighlightedIndex(-1)\n  }, [opened, items, value, setHighlightedIndex])\n\n  return (\n    <div css=\"position: relative\" ref={wrapRef} onBlur={handleFocusLeave}>\n      <SearchInput\n        ref={ref}\n        wide={wide}\n        placeholder={placeholder}\n        required={required}\n        onChange={handleInputChange}\n        onFocus={handleFocus}\n        value={value}\n      />\n      <Transition\n        config={springs.swift}\n        items={opened && items.length > 0}\n        from={{ scale: 0.98, opacity: 0 }}\n        enter={{ scale: 1, opacity: 1 }}\n        leave={{ scale: 1, opacity: 0 }}\n        native\n      >\n        {show =>\n          show &&\n          /* eslint-disable react/prop-types */\n          (({ scale, opacity }) => (\n            <Items\n              style={{\n                opacity,\n                transform: scale.interpolate(t => `scale3d(${t},${t},1)`),\n              }}\n            >\n              {Array.from(uniqueItems).map((item, index) => (\n                <Item\n                  key={item.key || item}\n                  ref={node => (refs.current[index] = node)}\n                  index={index}\n                  item={item}\n                  itemButtonStyles={itemButtonStyles}\n                  onHighlight={setHighlightedIndex}\n                  onSelect={handleSelect}\n                  selected={index === highlightedIndex}\n                >\n                  {renderItem(item, value)}\n                </Item>\n              ))}\n            </Items>\n          ))\n        /* eslint-enable react/prop-types */\n        }\n      </Transition>\n    </div>\n  )\n}\n\nAutoComplete.propTypes = {\n  forwardedRef: PropTypes.object,\n  itemButtonStyles: PropTypes.string,\n  items: PropTypes.array.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n  renderItem: PropTypes.func,\n  required: PropTypes.bool,\n  value: PropTypes.string,\n  wide: PropTypes.bool,\n}\n\n/* eslint-disable react/prop-types */\nconst Item = React.forwardRef(function Item(\n  { children, index, item, itemButtonStyles, onHighlight, onSelect, selected },\n  ref\n) {\n  const theme = useTheme()\n\n  const handleClick = useCallback(\n    event => {\n      event.preventDefault()\n      onSelect(item)\n    },\n    [item, onSelect]\n  )\n\n  const handleFocusOrMouseOver = useCallback(() => {\n    onHighlight(index)\n  }, [index, onHighlight])\n\n  return (\n    <li\n      role=\"option\"\n      css={`\n        overflow: hidden;\n        cursor: pointer;\n        ${unselectable()};\n      `}\n    >\n      <ButtonBase\n        ref={ref}\n        onClick={handleClick}\n        onFocus={handleFocusOrMouseOver}\n        onMouseOver={handleFocusOrMouseOver}\n        css={`\n          text-align: left;\n          padding: 4px 8px;\n          width: 100%;\n          border-radius: 0;\n          border-left: 3px solid transparent;\n          cursor: pointer;\n\n          ${selected\n            ? `\n                outline: 2px solid ${theme.accent};\n                background: ${theme.surfaceHighlight};\n                border-left: 3px solid ${theme.accent};\n              `\n            : ''};\n          ${itemButtonStyles};\n        `}\n      >\n        {children}\n      </ButtonBase>\n    </li>\n  )\n})\n/* eslint-enable react/prop-types */\n\n/* eslint-disable react/prop-types */\nconst Items = function Items(props) {\n  const theme = useTheme()\n  return (\n    <animated.ul\n      role=\"listbox\"\n      css={`\n        position: absolute;\n        z-index: 2;\n        top: 100%;\n        width: 100%;\n        padding: 8px 0;\n        color: ${theme.surfaceContent};\n        background: ${theme.surface};\n        border: 1px solid ${theme.border};\n        box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0.06);\n        border-radius: 3px;\n        padding: 0;\n        margin: 0;\n        list-style: none;\n\n        & > li:first-child {\n          border-top-left-radius: 3px;\n          border-top-right-radius: 3px;\n        }\n        & > li:last-child {\n          border-bottom-left-radius: 3px;\n          border-bottom-right-radius: 3px;\n        }\n      `}\n      {...props}\n    />\n  )\n}\n/* eslint-enable react/prop-types */\n\nconst AutoCompleteMemo = React.memo(AutoComplete)\n\nexport default React.forwardRef((props, ref) => (\n  <AutoCompleteMemo {...props} forwardedRef={ref} />\n))\n"]},"metadata":{},"sourceType":"module"}