{"ast":null,"code":"import _regeneratorRuntime from\"/Users/J/crypto/dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/J/crypto/dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/J/crypto/dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{HashRouter as Router,Switch,Route}from'react-router-dom';import{Main}from'@aragon/ui';import{UseWalletProvider}from'use-wallet';import{updateModalMode}from'./utils/web3';import{storePreference,getPreference}from'./utils/storage';import NavBar from'./components/NavBar';import HomePage from'./components/HomePage';import Trade from'./components/Trade/index';import Footer from'./components/Footer';import Wallet from'./components/Wallet';import EpochDetail from'./components/EpochDetail';import CouponMarket from'./components/CouponMarket';import Governance from'./components/Governance';import Candidate from'./components/Candidate';import Regulation from'./components/Regulation';import Pool from'./components/Pool';import PoolGov from'./components/PoolGov';import Bonding from'./components/Bonding';import HomePageNoWeb3 from'./components/HomePageNoWeb3';import{Landing}from'./components/Landing';import{themes}from'./utils/theme';import Tools from'./components/Tools';function App(){var storedTheme=getPreference('theme','dark');var _useState=useState(false),_useState2=_slicedToArray(_useState,2),hasWeb3=_useState2[0],setHasWeb3=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];// the current connected user\nvar _useState5=useState(storedTheme),_useState6=_slicedToArray(_useState5,2),theme=_useState6[0],setTheme=_useState6[1];var updateTheme=function updateTheme(newTheme){setTheme(newTheme);updateModalMode(newTheme);storePreference('theme',newTheme);};useEffect(function(){var isCancelled=false;function updateUserInfo(){return _updateUserInfo.apply(this,arguments);}function _updateUserInfo(){_updateUserInfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!isCancelled){// @ts-ignore\nsetHasWeb3(typeof window.ethereum!=='undefined');}case 1:case\"end\":return _context.stop();}}},_callee);}));return _updateUserInfo.apply(this,arguments);}updateUserInfo();var id=setInterval(updateUserInfo,15000);// eslint-disable-next-line consistent-return\nreturn function(){isCancelled=true;clearInterval(id);};},[user]);return/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(UseWalletProvider,{chainId:1,connectors:{walletconnect:{rpcUrl:'https://mainnet.eth.aragon.network/'},walletlink:{url:'https://mainnet.eth.aragon.network/',appName:'Coinbase Wallet',appLogoUrl:''}}},/*#__PURE__*/React.createElement(Main,{assetsUrl:\"\".concat(process.env.PUBLIC_URL,\"/aragon-ui/\"),theme:themes[theme],layout:false},/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',flexDirection:'column',height:'100%'}},/*#__PURE__*/React.createElement(\"div\",{style:{flex:'auto',overflowY:'auto'}},/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/\",exact:true},/*#__PURE__*/React.createElement(Landing,null)),/*#__PURE__*/React.createElement(Route,{path:\"/\"},/*#__PURE__*/React.createElement(NavBar,{hasWeb3:hasWeb3,user:user,setUser:setUser}),/*#__PURE__*/React.createElement(\"div\",{style:{padding:'0 0 80px'}},hasWeb3?/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/bootstrapping/:override\"},/*#__PURE__*/React.createElement(Wallet,{user:user})),/*#__PURE__*/React.createElement(Route,{path:\"/bootstrapping/\"},/*#__PURE__*/React.createElement(Wallet,{user:user})),/*#__PURE__*/React.createElement(Route,{path:\"/epoch/\"},/*#__PURE__*/React.createElement(EpochDetail,{user:user})),/*#__PURE__*/React.createElement(Route,{path:\"/coupons/:override\"},/*#__PURE__*/React.createElement(CouponMarket,{user:user})),/*#__PURE__*/React.createElement(Route,{path:\"/coupons/\"},/*#__PURE__*/React.createElement(CouponMarket,{user:user})),/*#__PURE__*/React.createElement(Route,{path:\"/governance/candidate/:candidate\"},/*#__PURE__*/React.createElement(Candidate,{user:user})),/*#__PURE__*/React.createElement(Route,{path:\"/governance/\"},/*#__PURE__*/React.createElement(Governance,{user:user})),/*#__PURE__*/React.createElement(Route,{path:\"/trade/\"},/*#__PURE__*/React.createElement(Trade,{user:user})),/*#__PURE__*/React.createElement(Route,{path:\"/regulation/\"},/*#__PURE__*/React.createElement(Regulation,{user:user})),/*#__PURE__*/React.createElement(Route,{path:\"/lp/:override\"},/*#__PURE__*/React.createElement(Pool,{user:user})),/*#__PURE__*/React.createElement(Route,{path:\"/lp/\"},/*#__PURE__*/React.createElement(Pool,{user:user})),/*#__PURE__*/React.createElement(Route,{path:\"/qsd/\"},/*#__PURE__*/React.createElement(Bonding,{user:user})),/*#__PURE__*/React.createElement(Route,{path:\"/qsg/\"},/*#__PURE__*/React.createElement(PoolGov,{user:user})),/*#__PURE__*/React.createElement(Route,{path:\"/dashboard/\"},/*#__PURE__*/React.createElement(HomePage,{user:user})),/*#__PURE__*/React.createElement(Route,{path:\"/tools/\"},/*#__PURE__*/React.createElement(Tools,{user:user}))):/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\"},/*#__PURE__*/React.createElement(Landing,null)),/*#__PURE__*/React.createElement(Route,null,/*#__PURE__*/React.createElement(HomePageNoWeb3,null))))))),/*#__PURE__*/React.createElement(Footer,{hasWeb3:hasWeb3,updateTheme:updateTheme})))));}export default App;","map":{"version":3,"sources":["/Users/J/crypto/dashboard/src/App.tsx"],"names":["React","useEffect","useState","HashRouter","Router","Switch","Route","Main","UseWalletProvider","updateModalMode","storePreference","getPreference","NavBar","HomePage","Trade","Footer","Wallet","EpochDetail","CouponMarket","Governance","Candidate","Regulation","Pool","PoolGov","Bonding","HomePageNoWeb3","Landing","themes","Tools","App","storedTheme","hasWeb3","setHasWeb3","user","setUser","theme","setTheme","updateTheme","newTheme","isCancelled","updateUserInfo","window","ethereum","id","setInterval","clearInterval","walletconnect","rpcUrl","walletlink","url","appName","appLogoUrl","process","env","PUBLIC_URL","display","flexDirection","height","flex","overflowY","padding"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Main } from '@aragon/ui';\nimport { UseWalletProvider } from 'use-wallet';\nimport { updateModalMode } from './utils/web3';\nimport { storePreference, getPreference } from './utils/storage';\nimport NavBar from './components/NavBar';\nimport HomePage from './components/HomePage';\nimport Trade from './components/Trade/index';\nimport Footer from './components/Footer';\nimport Wallet from './components/Wallet';\nimport EpochDetail from './components/EpochDetail';\nimport CouponMarket from './components/CouponMarket';\nimport Governance from './components/Governance';\nimport Candidate from './components/Candidate';\nimport Regulation from './components/Regulation';\nimport Pool from './components/Pool';\nimport PoolGov from './components/PoolGov';\nimport Bonding from './components/Bonding';\nimport HomePageNoWeb3 from './components/HomePageNoWeb3';\nimport { Landing } from './components/Landing';\nimport { themes } from './utils/theme';\nimport Tools from './components/Tools';\n\nfunction App() {\n  const storedTheme = getPreference('theme', 'dark');\n\n  const [hasWeb3, setHasWeb3] = useState(false);\n  const [user, setUser] = useState(''); // the current connected user\n  const [theme, setTheme] = useState(storedTheme);\n\n  const updateTheme = (newTheme: string) => {\n    setTheme(newTheme);\n    updateModalMode(newTheme);\n    storePreference('theme', newTheme);\n  };\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      if (!isCancelled) {\n        // @ts-ignore\n        setHasWeb3(typeof window.ethereum !== 'undefined');\n      }\n    }\n\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <Router>\n      <UseWalletProvider\n        chainId={1}\n        connectors={{\n          walletconnect: { rpcUrl: 'https://mainnet.eth.aragon.network/' },\n          walletlink: {\n            url: 'https://mainnet.eth.aragon.network/',\n            appName: 'Coinbase Wallet',\n            appLogoUrl: '',\n          },\n        }}\n      >\n        <Main\n          assetsUrl={`${process.env.PUBLIC_URL}/aragon-ui/`}\n          theme={themes[theme]}\n          layout={false}\n        >\n          <div\n            style={{\n              display: 'flex',\n              flexDirection: 'column',\n              height: '100%',\n            }}\n          >\n            <div style={{ flex: 'auto', overflowY: 'auto' }}>\n              <Switch>\n                <Route path='/' exact>\n                  <Landing />\n                </Route>\n                <Route path='/'>\n                  <NavBar hasWeb3={hasWeb3} user={user} setUser={setUser} />\n                  <div style={{ padding: '0 0 80px' }}>\n                    {hasWeb3 ? (\n                      <Switch>\n                        <Route path='/bootstrapping/:override'>\n                          <Wallet user={user} />\n                        </Route>\n                        <Route path='/bootstrapping/'>\n                          <Wallet user={user} />\n                        </Route>\n                        <Route path='/epoch/'>\n                          <EpochDetail user={user} />\n                        </Route>\n                        <Route path='/coupons/:override'>\n                          <CouponMarket user={user} />\n                        </Route>\n                        <Route path='/coupons/'>\n                          <CouponMarket user={user} />\n                        </Route>\n                        <Route path='/governance/candidate/:candidate'>\n                          <Candidate user={user} />\n                        </Route>\n                        <Route path='/governance/'>\n                          <Governance user={user} />\n                        </Route>\n                        <Route path='/trade/'>\n                          <Trade user={user} />\n                        </Route>\n                        <Route path='/regulation/'>\n                          <Regulation user={user} />\n                        </Route>\n                        <Route path='/lp/:override'>\n                          <Pool user={user} />\n                        </Route>\n                        <Route path='/lp/'>\n                          <Pool user={user} />\n                        </Route>\n                        <Route path='/qsd/'>\n                          <Bonding user={user} />\n                        </Route>\n                        <Route path='/qsg/'>\n                          <PoolGov user={user} />\n                        </Route>\n                        <Route path='/dashboard/'>\n                          <HomePage user={user} />\n                        </Route>\n                        <Route path='/tools/'>\n                          <Tools user={user} />\n                        </Route>\n                      </Switch>\n                    ) : (\n                      <Switch>\n                        <Route exact path='/'>\n                          <Landing />\n                        </Route>\n                        <Route>\n                          <HomePageNoWeb3 />\n                        </Route>\n                      </Switch>\n                    )}\n                  </div>\n                </Route>\n              </Switch>\n            </div>\n            <Footer hasWeb3={hasWeb3} updateTheme={updateTheme} />\n          </div>\n        </Main>\n      </UseWalletProvider>\n    </Router>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}