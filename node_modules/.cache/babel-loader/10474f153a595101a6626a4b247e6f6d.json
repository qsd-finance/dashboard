{"ast":null,"code":"import _slicedToArray from\"/Users/J/crypto/dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,IconToken,TextInput}from'@aragon/ui';import React,{useState}from'react';import{QSDS}from'../../constants/tokens';import{canPropose}from'../../utils/gov';import{recordVote}from'../../utils/web3';import{TopBorderSection}from'../common';function plausibleCandidate(candidate){return /^(0x)[0-9a-fA-F]{40}$/i.test(candidate);}function ProposeCandidate(_ref){var user=_ref.user,stake=_ref.stake,totalStake=_ref.totalStake,accountStatus=_ref.accountStatus;var _useState=useState('0x'),_useState2=_slicedToArray(_useState,2),candidate=_useState2[0],setCandidate=_useState2[1];return/*#__PURE__*/React.createElement(TopBorderSection,{title:\"Propose Candidate\"},/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',flexWrap:'wrap'}},/*#__PURE__*/React.createElement(\"div\",{style:{flexBasis:'62%',paddingTop:'2%'}},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(TextInput,{wide:true,value:candidate,onChange:function onChange(event){if(event.target.value){setCandidate(event.target.value);}else{setCandidate('0x');}}}))),/*#__PURE__*/React.createElement(\"div\",{style:{flexBasis:'6%'}}),/*#__PURE__*/React.createElement(\"div\",{style:{flexBasis:'32%',paddingTop:'2%'}},/*#__PURE__*/React.createElement(Button,{wide:true,icon:/*#__PURE__*/React.createElement(IconToken,null),label:\"Propose\",onClick:function onClick(){recordVote(QSDS.addr,candidate,1// APPROVE\n);},disabled:user===''||!canPropose(stake,totalStake)||!plausibleCandidate(candidate)||accountStatus===1}))));}export default ProposeCandidate;","map":{"version":3,"sources":["/Users/J/crypto/dashboard/src/components/Governance/ProposeCandidate.tsx"],"names":["Button","IconToken","TextInput","React","useState","QSDS","canPropose","recordVote","TopBorderSection","plausibleCandidate","candidate","test","ProposeCandidate","user","stake","totalStake","accountStatus","setCandidate","display","flexWrap","flexBasis","paddingTop","event","target","value","addr"],"mappings":"gJAAA,OAASA,MAAT,CAAiBC,SAAjB,CAA4BC,SAA5B,KAA6C,YAA7C,CAEA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,KAAqB,wBAArB,CACA,OAASC,UAAT,KAA2B,iBAA3B,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,gBAAT,KAAiC,WAAjC,CASA,QAASC,CAAAA,kBAAT,CAA4BC,SAA5B,CAAwD,CACtD,MAAO,0BAAyBC,IAAzB,CAA8BD,SAA9B,CAAP,CACD,CAED,QAASE,CAAAA,gBAAT,MAK0B,IAJxBC,CAAAA,IAIwB,MAJxBA,IAIwB,CAHxBC,KAGwB,MAHxBA,KAGwB,CAFxBC,UAEwB,MAFxBA,UAEwB,CADxBC,aACwB,MADxBA,aACwB,eACUZ,QAAQ,CAAC,IAAD,CADlB,wCACjBM,SADiB,eACNO,YADM,eAGxB,mBACE,oBAAC,gBAAD,EAAkB,KAAK,CAAC,mBAAxB,eACE,2BAAK,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAX,CAAmBC,QAAQ,CAAE,MAA7B,CAAZ,eAEE,2BAAK,KAAK,CAAE,CAAEC,SAAS,CAAE,KAAb,CAAoBC,UAAU,CAAE,IAAhC,CAAZ,eACE,qDACE,oBAAC,SAAD,EACE,IAAI,KADN,CAEE,KAAK,CAAEX,SAFT,CAGE,QAAQ,CAAE,kBAACY,KAAD,CAAW,CACnB,GAAIA,KAAK,CAACC,MAAN,CAAaC,KAAjB,CAAwB,CACtBP,YAAY,CAACK,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAZ,CACD,CAFD,IAEO,CACLP,YAAY,CAAC,IAAD,CAAZ,CACD,CACF,CATH,EADF,CADF,CAFF,cAiBE,2BAAK,KAAK,CAAE,CAAEG,SAAS,CAAE,IAAb,CAAZ,EAjBF,cAmBE,2BAAK,KAAK,CAAE,CAAEA,SAAS,CAAE,KAAb,CAAoBC,UAAU,CAAE,IAAhC,CAAZ,eACE,oBAAC,MAAD,EACE,IAAI,KADN,CAEE,IAAI,cAAE,oBAAC,SAAD,MAFR,CAGE,KAAK,CAAC,SAHR,CAIE,OAAO,CAAE,kBAAM,CACbd,UAAU,CACRF,IAAI,CAACoB,IADG,CAERf,SAFQ,CAGR,CAAE;AAHM,CAAV,CAKD,CAVH,CAWE,QAAQ,CACNG,IAAI,GAAK,EAAT,EACA,CAACP,UAAU,CAACQ,KAAD,CAAQC,UAAR,CADX,EAEA,CAACN,kBAAkB,CAACC,SAAD,CAFnB,EAGAM,aAAa,GAAK,CAftB,EADF,CAnBF,CADF,CADF,CA4CD,CAED,cAAeJ,CAAAA,gBAAf","sourcesContent":["import { Button, IconToken, TextInput } from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport React, { useState } from 'react';\nimport { QSDS } from '../../constants/tokens';\nimport { canPropose } from '../../utils/gov';\nimport { recordVote } from '../../utils/web3';\nimport { TopBorderSection } from '../common';\n\ntype ProposeCandidateProps = {\n  user: string;\n  stake: BigNumber;\n  totalStake: BigNumber;\n  accountStatus: number;\n};\n\nfunction plausibleCandidate(candidate: string): boolean {\n  return /^(0x)[0-9a-fA-F]{40}$/i.test(candidate);\n}\n\nfunction ProposeCandidate({\n  user,\n  stake,\n  totalStake,\n  accountStatus,\n}: ProposeCandidateProps) {\n  const [candidate, setCandidate] = useState('0x');\n\n  return (\n    <TopBorderSection title='Propose Candidate'>\n      <div style={{ display: 'flex', flexWrap: 'wrap' }}>\n        {/* User balance */}\n        <div style={{ flexBasis: '62%', paddingTop: '2%' }}>\n          <>\n            <TextInput\n              wide\n              value={candidate}\n              onChange={(event) => {\n                if (event.target.value) {\n                  setCandidate(event.target.value);\n                } else {\n                  setCandidate('0x');\n                }\n              }}\n            />\n          </>\n        </div>\n        <div style={{ flexBasis: '6%' }} />\n        {/* Purchase coupons */}\n        <div style={{ flexBasis: '32%', paddingTop: '2%' }}>\n          <Button\n            wide\n            icon={<IconToken />}\n            label='Propose'\n            onClick={() => {\n              recordVote(\n                QSDS.addr,\n                candidate,\n                1 // APPROVE\n              );\n            }}\n            disabled={\n              user === '' ||\n              !canPropose(stake, totalStake) ||\n              !plausibleCandidate(candidate) ||\n              accountStatus === 1\n            }\n          />\n        </div>\n      </div>\n    </TopBorderSection>\n  );\n}\n\nexport default ProposeCandidate;\n"]},"metadata":{},"sourceType":"module"}