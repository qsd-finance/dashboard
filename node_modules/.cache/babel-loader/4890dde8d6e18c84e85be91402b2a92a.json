{"ast":null,"code":"var _jsxFileName = \"/Users/J/crypto/dashboard/src/components/EpochDetail/index.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { Header, Layout } from '@aragon/ui';\nimport { getEpoch, getEpochTime } from '../../utils/infura';\nimport { QSDS } from \"../../constants/tokens\";\nimport AdvanceEpoch from './AdvanceEpoch';\nimport EpochPageHeader from \"./Header\";\nimport IconHeader from \"../common/IconHeader\";\n\nfunction EpochDetail({\n  user\n}) {\n  const [epoch, setEpoch] = useState(0);\n  const [epochTime, setEpochTime] = useState(0);\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [epochStr, epochTimeStr] = await Promise.all([getEpoch(QSDS.addr), getEpochTime(QSDS.addr)]);\n\n      if (!isCancelled) {\n        setEpoch(parseInt(epochStr, 10));\n        setEpochTime(parseInt(epochTimeStr, 10));\n      }\n    }\n\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000); // eslint-disable-next-line consistent-return\n\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n  return /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IconHeader, {\n    icon: /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-stream\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 25\n      }\n    }),\n    text: \"Epoch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(EpochPageHeader, {\n    epoch: epoch,\n    epochTime: epochTime,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Header, {\n    primary: \"Advance Epoch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(AdvanceEpoch, {\n    user: user,\n    epoch: epoch,\n    epochTime: epochTime,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default EpochDetail;","map":{"version":3,"sources":["/Users/J/crypto/dashboard/src/components/EpochDetail/index.tsx"],"names":["React","useState","useEffect","Header","Layout","getEpoch","getEpochTime","QSDS","AdvanceEpoch","EpochPageHeader","IconHeader","EpochDetail","user","epoch","setEpoch","epochTime","setEpochTime","isCancelled","updateUserInfo","epochStr","epochTimeStr","Promise","all","addr","parseInt","id","setInterval","clearInterval"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,MAAT,EAAiBC,MAAjB,QAA+B,YAA/B;AAEA,SAAQC,QAAR,EAAkBC,YAAlB,QACO,oBADP;AAEA,SAAQC,IAAR,QAAmB,wBAAnB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,eAAP,MAA4B,UAA5B;AACA,OAAOC,UAAP,MAAuB,sBAAvB;;AAEA,SAASC,WAAT,CAAqB;AAAEC,EAAAA;AAAF,CAArB,EAA+C;AAE7C,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,CAAD,CAAlC;AACA,QAAM,CAACc,SAAD,EAAYC,YAAZ,IAA4Bf,QAAQ,CAAC,CAAD,CAA1C;AACAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIe,WAAW,GAAG,KAAlB;;AAEA,mBAAeC,cAAf,GAAgC;AAC9B,YAAM,CAACC,QAAD,EAAWC,YAAX,IAA2B,MAAMC,OAAO,CAACC,GAAR,CAAY,CACjDjB,QAAQ,CAACE,IAAI,CAACgB,IAAN,CADyC,EAEjDjB,YAAY,CAACC,IAAI,CAACgB,IAAN,CAFqC,CAAZ,CAAvC;;AAKA,UAAI,CAACN,WAAL,EAAkB;AAChBH,QAAAA,QAAQ,CAACU,QAAQ,CAACL,QAAD,EAAW,EAAX,CAAT,CAAR;AACAH,QAAAA,YAAY,CAACQ,QAAQ,CAACJ,YAAD,EAAe,EAAf,CAAT,CAAZ;AACD;AACF;;AACDF,IAAAA,cAAc;AACd,UAAMO,EAAE,GAAGC,WAAW,CAACR,cAAD,EAAiB,KAAjB,CAAtB,CAfc,CAiBd;;AACA,WAAO,MAAM;AACXD,MAAAA,WAAW,GAAG,IAAd;AACAU,MAAAA,aAAa,CAACF,EAAD,CAAb;AACD,KAHD;AAID,GAtBQ,EAsBN,CAACb,IAAD,CAtBM,CAAT;AAwBA,sBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAY,IAAA,IAAI,eAAE;AAAG,MAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAlB;AAAkD,IAAA,IAAI,EAAC,OAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAGE,oBAAC,eAAD;AACE,IAAA,KAAK,EAAEC,KADT;AAEE,IAAA,SAAS,EAAEE,SAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAQE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,eAUE,oBAAC,YAAD;AACE,IAAA,IAAI,EAAEH,IADR;AAEE,IAAA,KAAK,EAAEC,KAFT;AAGE,IAAA,SAAS,EAAEE,SAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CADF;AAkBD;;AAED,eAAeJ,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Header, Layout } from '@aragon/ui';\n\nimport {getEpoch, getEpochTime,\n} from '../../utils/infura';\nimport {QSDS} from \"../../constants/tokens\";\nimport AdvanceEpoch from './AdvanceEpoch';\nimport EpochPageHeader from \"./Header\";\nimport IconHeader from \"../common/IconHeader\";\n\nfunction EpochDetail({ user }: {user: string}) {\n\n  const [epoch, setEpoch] = useState(0);\n  const [epochTime, setEpochTime] = useState(0);\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [epochStr, epochTimeStr] = await Promise.all([\n        getEpoch(QSDS.addr),\n        getEpochTime(QSDS.addr),\n      ]);\n\n      if (!isCancelled) {\n        setEpoch(parseInt(epochStr, 10));\n        setEpochTime(parseInt(epochTimeStr, 10));\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <Layout>\n      <IconHeader icon={<i className=\"fas fa-stream\"/>} text=\"Epoch\"/>\n\n      <EpochPageHeader\n        epoch={epoch}\n        epochTime={epochTime}\n      />\n\n      <Header primary=\"Advance Epoch\" />\n\n      <AdvanceEpoch\n        user={user}\n        epoch={epoch}\n        epochTime={epochTime}\n      />\n    </Layout>\n  );\n}\n\nexport default EpochDetail;\n"]},"metadata":{},"sourceType":"module"}