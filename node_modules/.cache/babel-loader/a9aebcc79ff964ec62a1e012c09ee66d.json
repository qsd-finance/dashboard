{"ast":null,"code":"import _slicedToArray from\"/Users/J/crypto/dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,IconCircleMinus,IconCirclePlus,IconLock}from'@aragon/ui';import BigNumber from'bignumber.js';import React,{useState}from'react';import{MAX_UINT256}from'../../constants/values';import{isPos}from'../../utils/number';import BigNumberInput from'./BigNumberInput';import{BalanceBlock,MaxButton}from'../common/index';import{TopBorderSection}from'./TopBorderSection';export var WithdrawDeposit=function WithdrawDeposit(_ref){var balance=_ref.balance,allowance=_ref.allowance,stagedBalance=_ref.stagedBalance,status=_ref.status,suffix=_ref.suffix,disabled=_ref.disabled,handleApprove=_ref.handleApprove,handleDeposit=_ref.handleDeposit,handleWithdraw=_ref.handleWithdraw;var _useState=useState(new BigNumber(0)),_useState2=_slicedToArray(_useState,2),depositAmount=_useState2[0],setDepositAmount=_useState2[1];var _useState3=useState(new BigNumber(0)),_useState4=_slicedToArray(_useState3,2),withdrawAmount=_useState4[0],setWithdrawAmount=_useState4[1];return/*#__PURE__*/React.createElement(TopBorderSection,{title:\"Stage\"},allowance.comparedTo(MAX_UINT256)===0?/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',flexWrap:'wrap'}},/*#__PURE__*/React.createElement(\"div\",{style:{flexBasis:'32%'}},/*#__PURE__*/React.createElement(BalanceBlock,{asset:\"Staged\",balance:stagedBalance,suffix:suffix})),/*#__PURE__*/React.createElement(\"div\",{style:{flexBasis:'33%',paddingTop:'2%'}},/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex'}},/*#__PURE__*/React.createElement(\"div\",{style:{width:'60%',minWidth:'6em'}},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(BigNumberInput,{adornment:suffix,value:depositAmount,setter:setDepositAmount,disabled:status!==0}),/*#__PURE__*/React.createElement(MaxButton,{onClick:function onClick(){setDepositAmount(balance);}}))),/*#__PURE__*/React.createElement(\"div\",{style:{width:'40%',minWidth:'6em'}},/*#__PURE__*/React.createElement(Button,{wide:true,icon:status===0?/*#__PURE__*/React.createElement(IconCirclePlus,null):/*#__PURE__*/React.createElement(IconLock,null),label:\"Deposit\",onClick:function onClick(){handleDeposit(depositAmount,function(){setDepositAmount(new BigNumber(0));});},disabled:status!==0||!isPos(depositAmount)||depositAmount.isGreaterThan(balance)||disabled})))),/*#__PURE__*/React.createElement(\"div\",{style:{flexBasis:'2%'}}),/*#__PURE__*/React.createElement(\"div\",{style:{flexBasis:'33%',paddingTop:'2%'}},/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex'}},/*#__PURE__*/React.createElement(\"div\",{style:{width:'60%',minWidth:'7em'}},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(BigNumberInput,{adornment:suffix,value:withdrawAmount,setter:setWithdrawAmount,disabled:status!==0}),/*#__PURE__*/React.createElement(MaxButton,{onClick:function onClick(){setWithdrawAmount(stagedBalance);}}))),/*#__PURE__*/React.createElement(\"div\",{style:{width:'40%',minWidth:'7em'}},/*#__PURE__*/React.createElement(Button,{wide:true,icon:status===0?/*#__PURE__*/React.createElement(IconCircleMinus,null):/*#__PURE__*/React.createElement(IconLock,null),label:\"Withdraw\",onClick:function onClick(){return handleWithdraw(withdrawAmount,function(){setWithdrawAmount(new BigNumber(0));});},disabled:status!==0||!isPos(withdrawAmount)||disabled}))))):/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',flexWrap:'wrap'}},/*#__PURE__*/React.createElement(\"div\",{style:{flexBasis:'32%'}},/*#__PURE__*/React.createElement(BalanceBlock,{asset:\"Staged\",balance:stagedBalance,suffix:suffix})),/*#__PURE__*/React.createElement(\"div\",{style:{flexBasis:'35%'}}),/*#__PURE__*/React.createElement(\"div\",{style:{flexBasis:'33%',paddingTop:'2%'}},/*#__PURE__*/React.createElement(Button,{wide:true,icon:/*#__PURE__*/React.createElement(IconCirclePlus,null),label:\"Approve\",onClick:handleApprove,disabled:disabled}))));};","map":{"version":3,"sources":["/Users/J/crypto/dashboard/src/components/common/WithdrawDeposit.tsx"],"names":["Button","IconCircleMinus","IconCirclePlus","IconLock","BigNumber","React","useState","MAX_UINT256","isPos","BigNumberInput","BalanceBlock","MaxButton","TopBorderSection","WithdrawDeposit","balance","allowance","stagedBalance","status","suffix","disabled","handleApprove","handleDeposit","handleWithdraw","depositAmount","setDepositAmount","withdrawAmount","setWithdrawAmount","comparedTo","display","flexWrap","flexBasis","paddingTop","width","minWidth","isGreaterThan"],"mappings":"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","sourcesContent":["import { Button, IconCircleMinus, IconCirclePlus, IconLock } from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport React, { useState } from 'react';\nimport { MAX_UINT256 } from '../../constants/values';\nimport { isPos } from '../../utils/number';\nimport BigNumberInput from './BigNumberInput';\nimport { BalanceBlock, MaxButton } from '../common/index';\nimport { TopBorderSection } from './TopBorderSection';\n\ninterface WithdrawDepositProps {\n  balance: BigNumber;\n  allowance: BigNumber;\n  stagedBalance: BigNumber;\n  status: number;\n  suffix: string;\n  disabled: boolean;\n\n  handleApprove: () => void;\n  handleDeposit: (depositAmount: BigNumber, callback: () => void) => void;\n  handleWithdraw: (withdrawAmount: BigNumber, callback: () => void) => void;\n}\n\nexport const WithdrawDeposit: React.FC<WithdrawDepositProps> = ({\n  balance,\n  allowance,\n  stagedBalance,\n  status,\n  suffix,\n  disabled,\n\n  handleApprove,\n  handleDeposit,\n  handleWithdraw,\n}) => {\n  const [depositAmount, setDepositAmount] = useState(new BigNumber(0));\n  const [withdrawAmount, setWithdrawAmount] = useState(new BigNumber(0));\n\n  return (\n    <TopBorderSection title='Stage'>\n      {allowance.comparedTo(MAX_UINT256) === 0 ? (\n        <div style={{ display: 'flex', flexWrap: 'wrap' }}>\n          {/* total Issued */}\n          <div style={{ flexBasis: '32%' }}>\n            <BalanceBlock\n              asset='Staged'\n              balance={stagedBalance}\n              suffix={suffix}\n            />\n          </div>\n          {/* Deposit QSD into DAO */}\n          <div style={{ flexBasis: '33%', paddingTop: '2%' }}>\n            <div style={{ display: 'flex' }}>\n              <div style={{ width: '60%', minWidth: '6em' }}>\n                <>\n                  <BigNumberInput\n                    adornment={suffix}\n                    value={depositAmount}\n                    setter={setDepositAmount}\n                    disabled={status !== 0}\n                  />\n                  <MaxButton\n                    onClick={() => {\n                      setDepositAmount(balance);\n                    }}\n                  />\n                </>\n              </div>\n              <div style={{ width: '40%', minWidth: '6em' }}>\n                <Button\n                  wide\n                  icon={status === 0 ? <IconCirclePlus /> : <IconLock />}\n                  label='Deposit'\n                  onClick={() => {\n                    handleDeposit(depositAmount, () => {\n                      setDepositAmount(new BigNumber(0));\n                    });\n                  }}\n                  disabled={\n                    status !== 0 ||\n                    !isPos(depositAmount) ||\n                    depositAmount.isGreaterThan(balance) ||\n                    disabled\n                  }\n                />\n              </div>\n            </div>\n          </div>\n          <div style={{ flexBasis: '2%' }} />\n          {/* Withdraw QSD from DAO */}\n          <div style={{ flexBasis: '33%', paddingTop: '2%' }}>\n            <div style={{ display: 'flex' }}>\n              <div style={{ width: '60%', minWidth: '7em' }}>\n                <>\n                  <BigNumberInput\n                    adornment={suffix}\n                    value={withdrawAmount}\n                    setter={setWithdrawAmount}\n                    disabled={status !== 0}\n                  />\n                  <MaxButton\n                    onClick={() => {\n                      setWithdrawAmount(stagedBalance);\n                    }}\n                  />\n                </>\n              </div>\n              <div style={{ width: '40%', minWidth: '7em' }}>\n                <Button\n                  wide\n                  icon={status === 0 ? <IconCircleMinus /> : <IconLock />}\n                  label='Withdraw'\n                  onClick={() =>\n                    handleWithdraw(withdrawAmount, () => {\n                      setWithdrawAmount(new BigNumber(0));\n                    })\n                  }\n                  disabled={status !== 0 || !isPos(withdrawAmount) || disabled}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <div style={{ display: 'flex', flexWrap: 'wrap' }}>\n          {/* total Issued */}\n          <div style={{ flexBasis: '32%' }}>\n            <BalanceBlock\n              asset='Staged'\n              balance={stagedBalance}\n              suffix={suffix}\n            />\n          </div>\n          <div style={{ flexBasis: '35%' }} />\n          {/* Approve DAO to spend QSD */}\n          <div style={{ flexBasis: '33%', paddingTop: '2%' }}>\n            <Button\n              wide\n              icon={<IconCirclePlus />}\n              label='Approve'\n              onClick={handleApprove}\n              disabled={disabled}\n            />\n          </div>\n        </div>\n      )}\n    </TopBorderSection>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}