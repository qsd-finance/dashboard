{"ast":null,"code":"import{Button,IconCircleCheck,IconProhibited,IconRotateLeft}from'@aragon/ui';import React from'react';import{QSDS}from'../../constants/tokens';import{recordVote}from'../../utils/web3';import{BalanceBlock,TopBorderSection}from'../common/index';import TextBlock from'../common/TextBlock';var VOTE_TYPE_MAP=['Undecided','Approve','Reject'];function Vote(_ref){var candidate=_ref.candidate,stake=_ref.stake,vote=_ref.vote,status=_ref.status;return/*#__PURE__*/React.createElement(TopBorderSection,{title:\"Vote\"},/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex'}},/*#__PURE__*/React.createElement(\"div\",{style:{width:'20%'}},/*#__PURE__*/React.createElement(BalanceBlock,{asset:\"My Stake\",balance:stake,suffix:'QSG'})),/*#__PURE__*/React.createElement(\"div\",{style:{width:'20%'}},/*#__PURE__*/React.createElement(TextBlock,{label:\"My Vote\",text:VOTE_TYPE_MAP[vote]})),/*#__PURE__*/React.createElement(\"div\",{style:{width:'18%',paddingTop:'2%'}},/*#__PURE__*/React.createElement(Button,{wide:true,icon:/*#__PURE__*/React.createElement(IconRotateLeft,null),label:\"Unvote\",onClick:function onClick(){recordVote(QSDS.addr,candidate,0// UNDECIDED\n);},disabled:status===1||vote===0||stake.isZero()})),/*#__PURE__*/React.createElement(\"div\",{style:{width:'3%'}}),/*#__PURE__*/React.createElement(\"div\",{style:{width:'18%',paddingTop:'2%'}},/*#__PURE__*/React.createElement(Button,{wide:true,icon:/*#__PURE__*/React.createElement(IconCircleCheck,null),label:\"Accept\",onClick:function onClick(){recordVote(QSDS.addr,candidate,1// APPROVE\n);},disabled:status===1||vote===1||stake.isZero()})),/*#__PURE__*/React.createElement(\"div\",{style:{width:'3%'}}),/*#__PURE__*/React.createElement(\"div\",{style:{width:'18%',paddingTop:'2%'}},/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex'}},/*#__PURE__*/React.createElement(Button,{wide:true,icon:/*#__PURE__*/React.createElement(IconProhibited,null),label:\"Reject\",onClick:function onClick(){recordVote(QSDS.addr,candidate,2// REJECT\n);},disabled:status===1||vote===2||stake.isZero()})))));}export default Vote;","map":{"version":3,"sources":["/Users/J/crypto/dashboard/src/components/Candidate/Vote.tsx"],"names":["Button","IconCircleCheck","IconProhibited","IconRotateLeft","React","QSDS","recordVote","BalanceBlock","TopBorderSection","TextBlock","VOTE_TYPE_MAP","Vote","candidate","stake","vote","status","display","width","paddingTop","addr","isZero"],"mappings":"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","sourcesContent":["import {\n  Button,\n  IconCircleCheck,\n  IconProhibited,\n  IconRotateLeft,\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport React from 'react';\nimport { QSDS } from '../../constants/tokens';\nimport { recordVote } from '../../utils/web3';\nimport { BalanceBlock, TopBorderSection } from '../common/index';\nimport TextBlock from '../common/TextBlock';\n\ntype VoteProps = {\n  candidate: string;\n  stake: BigNumber;\n  vote: number;\n  status: number;\n};\n\nconst VOTE_TYPE_MAP = ['Undecided', 'Approve', 'Reject'];\n\nfunction Vote({ candidate, stake, vote, status }: VoteProps) {\n  return (\n    <TopBorderSection title='Vote'>\n      <div style={{ display: 'flex' }}>\n        {/* User stake */}\n        <div style={{ width: '20%' }}>\n          <BalanceBlock asset='My Stake' balance={stake} suffix={'QSG'} />\n        </div>\n        <div style={{ width: '20%' }}>\n          <TextBlock label='My Vote' text={VOTE_TYPE_MAP[vote]} />\n        </div>\n        {/* Remove vote for candidate */}\n        <div style={{ width: '18%', paddingTop: '2%' }}>\n          <Button\n            wide\n            icon={<IconRotateLeft />}\n            label='Unvote'\n            onClick={() => {\n              recordVote(\n                QSDS.addr,\n                candidate,\n                0 // UNDECIDED\n              );\n            }}\n            disabled={status === 1 || vote === 0 || stake.isZero()}\n          />\n        </div>\n        {/* Vote to approve candidate */}\n        <div style={{ width: '3%' }} />\n        <div style={{ width: '18%', paddingTop: '2%' }}>\n          <Button\n            wide\n            icon={<IconCircleCheck />}\n            label='Accept'\n            onClick={() => {\n              recordVote(\n                QSDS.addr,\n                candidate,\n                1 // APPROVE\n              );\n            }}\n            disabled={status === 1 || vote === 1 || stake.isZero()}\n          />\n        </div>\n        {/* Vote to reject candidate */}\n        <div style={{ width: '3%' }} />\n        <div style={{ width: '18%', paddingTop: '2%' }}>\n          <div style={{ display: 'flex' }}>\n            <Button\n              wide\n              icon={<IconProhibited />}\n              label='Reject'\n              onClick={() => {\n                recordVote(\n                  QSDS.addr,\n                  candidate,\n                  2 // REJECT\n                );\n              }}\n              disabled={status === 1 || vote === 2 || stake.isZero()}\n            />\n          </div>\n        </div>\n      </div>\n    </TopBorderSection>\n  );\n}\n\nexport default Vote;\n"]},"metadata":{},"sourceType":"module"}