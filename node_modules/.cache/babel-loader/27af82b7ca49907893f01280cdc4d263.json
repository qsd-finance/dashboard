{"ast":null,"code":"var _jsxFileName = \"/Users/J/crypto/dashboard/src/components/Governance/ProposeCandidate.tsx\";\nimport { Button, IconToken, TextInput } from '@aragon/ui';\nimport React, { useState } from 'react';\nimport { QSDS } from '../../constants/tokens';\nimport { canPropose } from '../../utils/gov';\nimport { recordVote } from '../../utils/web3';\nimport { TopBorderSection } from '../common';\n\nfunction plausibleCandidate(candidate) {\n  return /^(0x)[0-9a-fA-F]{40}$/i.test(candidate);\n}\n\nfunction ProposeCandidate({\n  user,\n  stake,\n  totalStake,\n  accountStatus\n}) {\n  const [candidate, setCandidate] = useState('0x');\n  return /*#__PURE__*/React.createElement(TopBorderSection, {\n    title: \"Propose Candidate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flexBasis: '62%',\n      paddingTop: '2%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TextInput, {\n    wide: true,\n    value: candidate,\n    onChange: event => {\n      if (event.target.value) {\n        setCandidate(event.target.value);\n      } else {\n        setCandidate('0x');\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flexBasis: '6%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flexBasis: '32%',\n      paddingTop: '2%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    wide: true,\n    icon: /*#__PURE__*/React.createElement(IconToken, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 19\n      }\n    }),\n    label: \"Propose\",\n    onClick: () => {\n      recordVote(QSDS.addr, candidate, 1 // APPROVE\n      );\n    },\n    disabled: user === '' || !canPropose(stake, totalStake) || !plausibleCandidate(candidate) || accountStatus === 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport default ProposeCandidate;","map":{"version":3,"sources":["/Users/J/crypto/dashboard/src/components/Governance/ProposeCandidate.tsx"],"names":["Button","IconToken","TextInput","React","useState","QSDS","canPropose","recordVote","TopBorderSection","plausibleCandidate","candidate","test","ProposeCandidate","user","stake","totalStake","accountStatus","setCandidate","display","flexWrap","flexBasis","paddingTop","event","target","value","addr"],"mappings":";AAAA,SAASA,MAAT,EAAiBC,SAAjB,EAA4BC,SAA5B,QAA6C,YAA7C;AAEA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,IAAT,QAAqB,wBAArB;AACA,SAASC,UAAT,QAA2B,iBAA3B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,gBAAT,QAAiC,WAAjC;;AASA,SAASC,kBAAT,CAA4BC,SAA5B,EAAwD;AACtD,SAAO,yBAAyBC,IAAzB,CAA8BD,SAA9B,CAAP;AACD;;AAED,SAASE,gBAAT,CAA0B;AACxBC,EAAAA,IADwB;AAExBC,EAAAA,KAFwB;AAGxBC,EAAAA,UAHwB;AAIxBC,EAAAA;AAJwB,CAA1B,EAK0B;AACxB,QAAM,CAACN,SAAD,EAAYO,YAAZ,IAA4Bb,QAAQ,CAAC,IAAD,CAA1C;AAEA,sBACE,oBAAC,gBAAD;AAAkB,IAAA,KAAK,EAAC,mBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,KAAK,EAAE;AAAEc,MAAAA,OAAO,EAAE,MAAX;AAAmBC,MAAAA,QAAQ,EAAE;AAA7B,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE,KAAb;AAAoBC,MAAAA,UAAU,EAAE;AAAhC,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,uDACE,oBAAC,SAAD;AACE,IAAA,IAAI,MADN;AAEE,IAAA,KAAK,EAAEX,SAFT;AAGE,IAAA,QAAQ,EAAGY,KAAD,IAAW;AACnB,UAAIA,KAAK,CAACC,MAAN,CAAaC,KAAjB,EAAwB;AACtBP,QAAAA,YAAY,CAACK,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAZ;AACD,OAFD,MAEO;AACLP,QAAAA,YAAY,CAAC,IAAD,CAAZ;AACD;AACF,KATH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CAFF,eAiBE;AAAK,IAAA,KAAK,EAAE;AAAEG,MAAAA,SAAS,EAAE;AAAb,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjBF,eAmBE;AAAK,IAAA,KAAK,EAAE;AAAEA,MAAAA,SAAS,EAAE,KAAb;AAAoBC,MAAAA,UAAU,EAAE;AAAhC,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,IAAI,MADN;AAEE,IAAA,IAAI,eAAE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFR;AAGE,IAAA,KAAK,EAAC,SAHR;AAIE,IAAA,OAAO,EAAE,MAAM;AACbd,MAAAA,UAAU,CACRF,IAAI,CAACoB,IADG,EAERf,SAFQ,EAGR,CAHQ,CAGN;AAHM,OAAV;AAKD,KAVH;AAWE,IAAA,QAAQ,EACNG,IAAI,KAAK,EAAT,IACA,CAACP,UAAU,CAACQ,KAAD,EAAQC,UAAR,CADX,IAEA,CAACN,kBAAkB,CAACC,SAAD,CAFnB,IAGAM,aAAa,KAAK,CAftB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAnBF,CADF,CADF;AA4CD;;AAED,eAAeJ,gBAAf","sourcesContent":["import { Button, IconToken, TextInput } from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport React, { useState } from 'react';\nimport { QSDS } from '../../constants/tokens';\nimport { canPropose } from '../../utils/gov';\nimport { recordVote } from '../../utils/web3';\nimport { TopBorderSection } from '../common';\n\ntype ProposeCandidateProps = {\n  user: string;\n  stake: BigNumber;\n  totalStake: BigNumber;\n  accountStatus: number;\n};\n\nfunction plausibleCandidate(candidate: string): boolean {\n  return /^(0x)[0-9a-fA-F]{40}$/i.test(candidate);\n}\n\nfunction ProposeCandidate({\n  user,\n  stake,\n  totalStake,\n  accountStatus,\n}: ProposeCandidateProps) {\n  const [candidate, setCandidate] = useState('0x');\n\n  return (\n    <TopBorderSection title='Propose Candidate'>\n      <div style={{ display: 'flex', flexWrap: 'wrap' }}>\n        {/* User balance */}\n        <div style={{ flexBasis: '62%', paddingTop: '2%' }}>\n          <>\n            <TextInput\n              wide\n              value={candidate}\n              onChange={(event) => {\n                if (event.target.value) {\n                  setCandidate(event.target.value);\n                } else {\n                  setCandidate('0x');\n                }\n              }}\n            />\n          </>\n        </div>\n        <div style={{ flexBasis: '6%' }} />\n        {/* Purchase coupons */}\n        <div style={{ flexBasis: '32%', paddingTop: '2%' }}>\n          <Button\n            wide\n            icon={<IconToken />}\n            label='Propose'\n            onClick={() => {\n              recordVote(\n                QSDS.addr,\n                candidate,\n                1 // APPROVE\n              );\n            }}\n            disabled={\n              user === '' ||\n              !canPropose(stake, totalStake) ||\n              !plausibleCandidate(candidate) ||\n              accountStatus === 1\n            }\n          />\n        </div>\n      </div>\n    </TopBorderSection>\n  );\n}\n\nexport default ProposeCandidate;\n"]},"metadata":{},"sourceType":"module"}